{"remainingRequest":"D:\\inventarioInformatico\\inventario\\inventario\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\inventarioInformatico\\inventario\\inventario\\src\\views\\equipos.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\inventarioInformatico\\inventario\\inventario\\src\\views\\equipos.vue","mtime":1649002515998},{"path":"D:\\inventarioInformatico\\inventario\\inventario\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1644510051457},{"path":"D:\\inventarioInformatico\\inventario\\inventario\\node_modules\\babel-loader\\lib\\index.js","mtime":1644510041523},{"path":"D:\\inventarioInformatico\\inventario\\inventario\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1644510051457},{"path":"D:\\inventarioInformatico\\inventario\\inventario\\node_modules\\vue-loader\\lib\\index.js","mtime":1644510072741}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgbmF2YmFyIGZyb20gIi4uL2NvbXBvbmVudHMvbmF2YmFyLnZ1ZSI7DQoNCmltcG9ydCB7IHJlcXVpcmVkLCBtYXhMZW5ndGh9IGZyb20gInZ1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyI7DQppbXBvcnQgJ2pxdWVyeS9kaXN0L2pxdWVyeS5taW4uanMnOw0KaW1wb3J0ICdib290c3RyYXAvZGlzdC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MnOw0KaW1wb3J0ICJkYXRhdGFibGVzLm5ldC1kdC9qcy9kYXRhVGFibGVzLmRhdGFUYWJsZXMiOw0KaW1wb3J0ICJkYXRhdGFibGVzLm5ldC1kdC9jc3MvanF1ZXJ5LmRhdGFUYWJsZXMubWluLmNzcyI7DQppbXBvcnQgJCBmcm9tICdqcXVlcnknOyANCg0KLy9FWENFTCBlWHBvcnRhY2nDs24NCmltcG9ydCAqIGFzIFhMU1ggZnJvbSAneGxzeC94bHN4Lm1qcyc7DQovKiBsb2FkICdmcycgZm9yIHJlYWRGaWxlIGFuZCB3cml0ZUZpbGUgc3VwcG9ydCAqLw0KaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnOw0KWExTWC5zZXRfZnMoZnMpOw0KLyogbG9hZCB0aGUgY29kZXBhZ2Ugc3VwcG9ydCBsaWJyYXJ5IGZvciBleHRlbmRlZCBzdXBwb3J0IHdpdGggb2xkZXIgZm9ybWF0cyAgKi8NCmltcG9ydCAqIGFzIGNwZXhjZWwgZnJvbSAneGxzeC9kaXN0L2NwZXhjZWwuZnVsbC5tanMnOw0KWExTWC5zZXRfY3B0YWJsZShjcGV4Y2VsKTsNCg0KLy9JbXBvcnRhY2lvbmVzIHBhcmEgV09SRA0KaW1wb3J0IERvY3h0ZW1wbGF0ZXIgZnJvbSAiZG9jeHRlbXBsYXRlciI7DQppbXBvcnQgUGl6WmlwIGZyb20gInBpenppcCI7DQppbXBvcnQgUGl6WmlwVXRpbHMgZnJvbSAicGl6emlwL3V0aWxzL2luZGV4LmpzIjsNCmltcG9ydCB7IHNhdmVBcyB9IGZyb20gImZpbGUtc2F2ZXIiOw0KDQpmdW5jdGlvbiBsb2FkRmlsZSh1cmwsIGNhbGxiYWNrKSB7DQogICAgUGl6WmlwVXRpbHMuZ2V0QmluYXJ5Q29udGVudCh1cmwsIGNhbGxiYWNrKTsNCn0NCg0KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4Jw0KaW1wb3J0IHsgaXNOdWxsIH0gZnJvbSAndXRpbCc7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogImFib3V0IiwNCiAgY29tcG9uZW50czogew0KICAgIG5hdmJhciwNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIC8vTGlzdGFzIHV0aWxpemFkYXMgcGFyYSBlbCBtYW5lam8gZGUgdGFibGFzDQogICAgICAgIGVxdWlwb3NBY3Q6IFtdLA0KICAgICAgICBlcXVpcG9zQnVlbkVzdGFkbzogW10sDQogICAgICAgIGVxdWlwb3NNYWxFc3RhZG86IFtdLA0KICAgICAgICBoaXN0b3JpYWw6IFtdLA0KICAgICAgICAvL1Blc3Rhw7FhIHF1ZSBpbmRpY2EgbGEgdmlzdGEgYWN0dWFsDQogICAgICAgIHBlc3Rhw7FhOiAnZXF1aXBvc2FjdCcsDQogICAgICAgIHRpcG9Nb3N0cmFyOiAnc2knLA0KICAgICAgICBib3RvbmVzOiAnc2knLA0KICAgICAgICBzZWxlY3RlZDogJycsDQogICAgICAgIC8vRGF0b3MgZGUgZWRpdGFyDQogICAgICAgIGNvcnJFcXA6IDAsDQogICAgICAgIGNvcnI6ICcnLA0KICAgICAgICBjb2RpZ286ICcnLA0KICAgICAgICBtb2RlbG86ICcnLA0KICAgICAgICB0aXBvOiAnJywNCiAgICAgICAgdGlwb3M6IFtdLA0KICAgICAgICB0aXBvTmV3OiAnJywNCiAgICAgICAgc2VyaWU6ICcnLA0KICAgICAgICBtYXJjYTogJycsDQogICAgICAgIG1hcmNhTmV3OiAnJywNCiAgICAgICAgbWFyY2FzOiBbXSwNCiAgICAgICAgZXN0YWRvOiAnJywNCiAgICAgICAgY29uZGljaW9uOiAnJywNCiAgICAgICAgLy9DQVJBQ1RFUklTVElDQVMgRVNQRUNJRklDQVMNCiAgICAgICAgY29kVGlwbzogMCwNCiAgICAgICAgY29kT3JpZ2luYWw6IDAsDQogICAgICAgIG1hYzogJycsDQogICAgICAgIHJhbTogMCwNCiAgICAgICAgcHVsZ2FkYXM6IDAsDQogICAgICAgIGltZWk6ICcnLA0KICAgICAgICBjYXBhY2lkYWQ6IDAsDQogICAgICAgIGx1bWVuZXM6IDAsDQogICAgICAgIHZhOiAwLA0KICAgICAgICBwcm9jZXNhZG9yOiAnJywNCiAgICAgICAgY29tcGHDsWlhOiAnJywNCiAgICAgICAgZGlzY286ICcnLA0KICAgICAgICAvL0Vudmlhcg0KICAgICAgICBudW1lcm86ICcnLA0KICAgICAgICB6b25hOiAnJywNCiAgICAgICAgbm9tYnJlOiAnJywNCiAgICAgICAgY29kaWdvSmFyZGluOiAnJywNCiAgICAgICAgZHVlw7FvOiAnJywNCiAgICAgICAgLy9BcnJlZ2xvIHBhcmEgYcOxYWRpciBsb3MgZGF0b3MgYSBsb3Mgc2VsZWN0DQogICAgICAgIG5vbWJyZXM6IFtdLA0KICAgICAgICBkdWXDsW9zSmFyZGluTGlzdGE6IFtdLA0KICAgICAgICAvL1ZhcmlhYmxlcyBkZSBsYXMgYWxlcnRhcw0KICAgICAgICBkaXNtaXNzU2VjczogNSwNCiAgICAgICAgZGlzbWlzc0NvdW50RG93bjogMCwNCiAgICAgICAgbWVuc2FqZToge2NvbG9yOiAnJywgdGV4dG86ICcnfSwNCiAgICAgICAgYWN0aXZvOiB0cnVlLA0KICAgICAgICAvL1ZBUklBQkxFUyBERSBFWFBPUlRBQ0lPTg0KICAgICAgICBkdWXDsW9zOiBbXSwNCiAgICAgICAgdGlwb0V4cG9ydGFyOiAnJywNCiAgICAgICAgY2xhc2lmaWNhY2lvbkV4cG9ydGFyOiAnJywNCiAgICAgICAgdWJpY2FjaW9uRXhwb3J0YXI6ICcnLA0KICAgICAgICBkdWVub0V4cG9ydGFyOiAnJywNCiAgICAgICAgSW50cm9kdWNjaW9uOiAnJywNCiAgICAgICAgb2JqZXRpdm86ICcnLA0KICAgICAgICBkZWZpY2llbmNpYXM6ICcnLA0KICAgICAgICBVc3VhcmlvOiAnJywNCiAgICAgICAgRGlyZWNjaW9uOiAnJywNCiAgICAgICAgbm9tRXF1aXBvRXhwb3J0YXI6ICcnLA0KICAgICAgICBjb2RFcXVpcG9FeHBvcnRhcjogJycsDQogICAgICAgIHJlZGFjdGFkbzogJycsDQogICAgICAgIHJldmlzYWRvOiAnJywNCiAgICAgICAgYXByb2JhZG86ICcnLA0KICAgICAgICBvYnNlcnZhY2lvbmVzOiAnJywNCiAgICAgICAgZXN0YWRvRXhwb3J0YXI6ICcnLA0KICAgICAgICB1YmljYWNpb246ICcnDQogICAgICB9DQogICAgfSwNCiAgICB2YWxpZGF0aW9uczp7DQogICAgICAvL1ZhbGlkYWNpb25lcyBkZSBsb3MgaW5wdXQNCiAgICAgIGNvZGlnbzp7cmVxdWlyZWR9LA0KICAgICAgbW9kZWxvOntyZXF1aXJlZH0sDQogICAgICB0aXBvOntyZXF1aXJlZH0sDQogICAgICB0aXBvTmV3OntyZXF1aXJlZH0sDQogICAgICBzZXJpZTp7cmVxdWlyZWR9LA0KICAgICAgbWFyY2E6e3JlcXVpcmVkfSwNCiAgICAgIG1hcmNhTmV3OntyZXF1aXJlZH0sDQogICAgICBlc3RhZG86e3JlcXVpcmVkfSwNCiAgICAgIGNvbmRpY2lvbjp7cmVxdWlyZWR9LA0KICAgICAgbnVtZXJvOntyZXF1aXJlZH0sDQogICAgICB6b25hOntyZXF1aXJlZH0sDQogICAgICBub21icmU6e3JlcXVpcmVkfSwNCiAgICAgIGR1ZcOxbzp7cmVxdWlyZWR9LA0KICAgICAgdGlwb0V4cG9ydGFyOiB7cmVxdWlyZWR9LA0KICAgICAgY2xhc2lmaWNhY2lvbkV4cG9ydGFyOiB7cmVxdWlyZWR9LA0KICAgICAgdWJpY2FjaW9uRXhwb3J0YXI6IHtyZXF1aXJlZH0sDQogICAgICBkdWVub0V4cG9ydGFyOiB7cmVxdWlyZWR9LA0KICAgICAgSW50cm9kdWNjaW9uOiB7cmVxdWlyZWQsIG1heExlbmd0aDogbWF4TGVuZ3RoKDEwMDApfSwNCiAgICAgIG9iamV0aXZvOiB7cmVxdWlyZWQsIG1heExlbmd0aDogbWF4TGVuZ3RoKDUwMCl9LA0KICAgICAgZGVmaWNpZW5jaWFzOiB7cmVxdWlyZWQsIG1heExlbmd0aDogbWF4TGVuZ3RoKDEwMDApfSwNCiAgICAgIFVzdWFyaW86IHtyZXF1aXJlZH0sDQogICAgICBEaXJlY2Npb246IHtyZXF1aXJlZH0sDQogICAgICBub21FcXVpcG9FeHBvcnRhcjoge3JlcXVpcmVkfSwNCiAgICAgIGNvZEVxdWlwb0V4cG9ydGFyOiB7cmVxdWlyZWR9LA0KICAgICAgcmVkYWN0YWRvOiB7cmVxdWlyZWR9LA0KICAgICAgcmV2aXNhZG86IHtyZXF1aXJlZH0sDQogICAgICBhcHJvYmFkbzoge3JlcXVpcmVkfSwNCiAgICAgIG9ic2VydmFjaW9uZXM6IHtyZXF1aXJlZCwgbWF4TGVuZ3RoOiBtYXhMZW5ndGgoMjAwKX0sDQogICAgICBlc3RhZG9FeHBvcnRhcjoge3JlcXVpcmVkfSwNCiAgICAgIHViaWNhY2lvbjoge3JlcXVpcmVkfQ0KICAgIH0sDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgIC4uLm1hcFN0YXRlKFsndG9rZW4nLCAndXN1YXJpb0RCJ10pDQogICAgfSwNCiAgICBjcmVhdGVkKCl7DQogICAgICAvL0luaWNpYW1vcyBsYXMgZnVuY2lvbmVzIHF1ZSBzZSBlbmNhcmdhbiBkZSBjYXJnYXIgbG9zIGRhdG9zIGFwZW5hcyBzZSBpbmljaWUgbGEgcnV0YQ0KICAgICAgdGhpcy5saXN0YXJFcXVpcG9zQWN0KCk7DQogICAgICB0aGlzLm5vbWJyZXNKYXJkaW4oKTsNCiAgICAgIHRoaXMubGlzdGFyRHVlw7FvcygpOw0KICAgICAgdGhpcy5vYnRlbmVyVGlwb3MoKTsNCiAgICAgIHRoaXMub2J0ZW5lck1hcmNhcygpOw0KICAgICAgdGhpcy52ZXJpZmljYXIoKTsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgIC8vQ29udHJvbGFkb3IgZGUgaW5wdXRzIG51bWVyaWNvcw0KICAgICAgY29udHJvbElucHV0cygpew0KICAgICAgICBpZih0aGlzLnJhbSA8IDApew0KICAgICAgICAgIHRoaXMucmFtID0gMDsNCiAgICAgICAgfQ0KICAgICAgICBpZih0aGlzLnB1bGdhZGFzIDwgMCl7DQogICAgICAgICAgdGhpcy5wdWxnYWRhcyA9IDANCiAgICAgICAgfQ0KICAgICAgICBpZih0aGlzLmNhcGFjaWRhZCA8IDApew0KICAgICAgICAgIHRoaXMuY2FwYWNpZGFkID0gMA0KICAgICAgICB9DQogICAgICAgIGlmKHRoaXMubHVtZW5lcyA8IDApew0KICAgICAgICAgIHRoaXMubHVtZW5lcyA9IDA7DQogICAgICAgIH0NCiAgICAgICAgaWYodGhpcy52YSA8IDApew0KICAgICAgICAgIHRoaXMudmEgPSAwOw0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgLy9GdW5jacOzbiBxdWUgcGVybWl0ZSBleHBvcnRhciBsYXMgdGFibGFzIGEgdW4gZXhjZWwgDQogICAgICBleHBvcnRhcihudW0pIHsNCiAgICAgICAgbGV0IGRhdGEgPSBbXTsNCiAgICAgICAgdmFyIGZpbGVuYW1lID0gInBsYW5pbGxhIjsNCiAgICAgICAgaWYobnVtID09PSAxKXsNCiAgICAgICAgICB2YXIgYXJyZWdsYWRvID0gdGhpcy5lcXVpcG9zQWN0Lm1hcCggaXRlbSA9PiB7IA0KICAgICAgICAgICAgcmV0dXJuIHsgSUQ6IGl0ZW0uY29kSGlzdG9yaWFsICwgVGlwbyA6IGl0ZW0udGlwb0VxdWlwbywgU2VyaWUgOiBpdGVtLnNlcmllLCBFc3RhZG8gOiBpdGVtLmVzdGFkbywgQ29kaWdvRXF1aXBvIDogaXRlbS5jb2RFcXVpcG8sICBEZXBlbmRlbmNpYSA6IGl0ZW0ubm9tSmFyZGluLCBDb2RpZ29EZXBlbmRlbmNpYSA6IGl0ZW0uY29kSmFyZGluLCBVc3VhcmlvIDogaXRlbS5ub21icmUsIFpvbmEgOiBpdGVtLnpvbmF9OyANCiAgICAgICAgICB9KTsNCiAgICAgICAgICBkYXRhID0gWExTWC51dGlscy5qc29uX3RvX3NoZWV0KGFycmVnbGFkbyk7DQogICAgICAgICAgZmlsZW5hbWUgPSAnRXF1aXBvcyBjb24gVXN1YXJpbycNCiAgICAgICAgfWVsc2UgaWYobnVtID09PSAyKXsNCiAgICAgICAgICB2YXIgYXJyZWdsYWRvID0gdGhpcy5lcXVpcG9zQnVlbkVzdGFkby5tYXAoIGl0ZW0gPT4geyANCiAgICAgICAgICAgIHJldHVybiB7IElEOiBpdGVtLmNvcnJFcXVpcG8gLCBUaXBvIDogaXRlbS50aXBvRXF1aXBvLCBTZXJpZSA6IGl0ZW0uc2VyaWUsIENvZGlnb0VxdWlwbyA6IGl0ZW0uY29kRXF1aXBvLCAgTWFyY2EgOiBpdGVtLm5vbU1hcmNhLCBNb2RlbG8gOiBpdGVtLm1vZGVsb307IA0KICAgICAgICAgIH0pOw0KICAgICAgICAgIGRhdGEgPSBYTFNYLnV0aWxzLmpzb25fdG9fc2hlZXQoYXJyZWdsYWRvKTsNCiAgICAgICAgICBmaWxlbmFtZSA9ICdFcXVpcG9zIHNpbiBVc3VhcmlvJw0KICAgICAgICB9ZWxzZSBpZihudW0gPT09IDMpew0KICAgICAgICAgIHZhciBhcnJlZ2xhZG8gPSB0aGlzLmVxdWlwb3NNYWxFc3RhZG8ubWFwKCBpdGVtID0+IHsgDQogICAgICAgICAgICByZXR1cm4geyBJRDogaXRlbS5jb3JyRXF1aXBvICwgVGlwbyA6IGl0ZW0udGlwb0VxdWlwbywgU2VyaWUgOiBpdGVtLnNlcmllLCBDb2RpZ29FcXVpcG8gOiBpdGVtLmNvZEVxdWlwbywgIE1hcmNhIDogaXRlbS5ub21NYXJjYSwgTW9kZWxvIDogaXRlbS5tb2RlbG99OyANCiAgICAgICAgICB9KTsNCiAgICAgICAgICBkYXRhID0gWExTWC51dGlscy5qc29uX3RvX3NoZWV0KGFycmVnbGFkbyk7DQogICAgICAgICAgZmlsZW5hbWUgPSAnRXF1aXBvcyBkYWRvcyBkZSBCYWphJw0KICAgICAgICB9ZWxzZSBpZihudW0gPT09IDQpew0KICAgICAgICAgIHZhciBhcnJlZ2xhZG8gPSB0aGlzLmhpc3RvcmlhbC5tYXAoIGl0ZW0gPT4geyANCiAgICAgICAgICAgIHJldHVybiB7IElEOiBpdGVtLmNvZEhpc3RvcmlhbCAsIENvZGlnbyA6IGl0ZW0uY29kRXF1aXBvLCBab25hIDogaXRlbS56b25hLCBEZXBlbmRlbmNpYSA6IGl0ZW0ubm9tSmFyZGluLCAgVXN1YXJpbyA6IGl0ZW0ubm9tYnJlLCBEZXNkZSA6IGl0ZW0uZmVjaGFJbmljaW8sIEhhc3RhIDogaXRlbS5mZWNoYX07IA0KICAgICAgICAgIH0pOw0KICAgICAgICAgIGRhdGEgPSBYTFNYLnV0aWxzLmpzb25fdG9fc2hlZXQoYXJyZWdsYWRvKTsNCiAgICAgICAgICBpZihhcnJlZ2xhZG9bMF0pew0KICAgICAgICAgICAgZmlsZW5hbWUgPSAnSGlzdG9yaWFsIEVxdWlwbyAnICsgYXJyZWdsYWRvWzBdLkNvZGlnbw0KICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgZmlsZW5hbWUgPSAnSGlzdG9yaWFsIEVxdWlwbycNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgY29uc3Qgd29ya2Jvb2sgPSBYTFNYLnV0aWxzLmJvb2tfbmV3KCk7DQogICAgICAgIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod29ya2Jvb2ssIGRhdGEsIGZpbGVuYW1lKTsNCiAgICAgICAgWExTWC53cml0ZUZpbGUod29ya2Jvb2ssIGAke2ZpbGVuYW1lfS54bHN4YCk7DQogICAgICB9LA0KICAgICAgYWxlcnRhKGNvbG9yLCB0ZXh0byl7DQogICAgICAgIHRoaXMubWVuc2FqZS5jb2xvciA9IGNvbG9yOw0KICAgICAgICB0aGlzLm1lbnNhamUudGV4dG8gPSB0ZXh0bzsNCiAgICAgICAgdGhpcy5zaG93QWxlcnQoKTsNCiAgICAgIH0sDQogICAgICAvL0Z1bmNpw7NuIHF1ZSB2ZXJpZmljYSBlbCB0aXBvIGRlIHVzdWFyaW8gKEFkbWluaXN0cmFkb3IgLyBOb3JtYWwpDQogICAgICB2ZXJpZmljYXIoKXsNCiAgICAgICAgaWYodGhpcy51c3VhcmlvREIuZGF0YVswXS50aXBvVXN1YXJpbyA9PSAwKXsNCiAgICAgICAgICB0aGlzLmFjdGl2byA9IGZhbHNlOw0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgLy9BbCBtb21lbnRvIGRlIGNhcmdhciBsYSB0YWJsYSB5IG1vZGlmaWNhciBsYSB6b25hIHNlIGd1YXJkYSBlbiBsYSBiYXNlIGRlIGRhdG9zDQogICAgICBDYW1iaWFab25hKGlkLCB6b25hKXsNCiAgICAgICAgbGV0IGNvbmZpZyA9IHsNCiAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmF4aW9zLnB1dChgYXBpL2FjdHVhbGl6YVpvbmEvJHtpZH1gLCB7em9uYTogem9uYX0sIGNvbmZpZykNCiAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgdGhpcy5hbGVydGEoJ3N1Y2Nlc3MnLCAnWm9uYSBtb2RpZmljYWRhIGNvcnJlY3RhbWVudGUnKQ0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgdmFyIG1lbnNhamUgPSAnUG9zaWJsZSBlcnJvciBkZWwgc2lzdGVtYSc7DQogICAgICAgICAgICBpZihlLnJlc3BvbnNlLmRhdGEubWVuc2FqZSl7DQogICAgICAgICAgICAgIG1lbnNhamUgPSBlLnJlc3BvbnNlLmRhdGEubWVuc2FqZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnTGEgem9uYSBubyBzZSBoYSBsb2dyYWRvIG1vZGlmaWNhciBlbiBlbCBzaXN0ZW1hJykNCiAgICAgICAgICB9KQ0KICAgICAgfSwNCiAgICAgIC8vQWN0aXZhbW9zIGxhIHZpc3RhIGRlIGVkaXRhcg0KICAgICAgQWN0ZWRpdGFyKGlkLCBhY3Rpdm8pew0KICAgICAgICB0aGlzLnBlc3Rhw7FhID0gJ2VkaXRhcicNCiAgICAgICAgdGhpcy5ib3RvbmVzID0gJ25vJw0KICAgICAgICAkKCcjdGFibGFTaW5EdWXDsW8nKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICQoJyN0YWJsYUJhamFzJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOw0KICAgICAgICAkKCcjdGFibGFDb25EdWXDsW8nKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgIC8vT2J0ZW5lbW9zIGVsIGNvcnJlbGF0aXZvIGRlbCBlcXVpcG8sIHNpIGVzdGFtb3MgZW4gbGEgdmlzdGEgZGUgRXF1aXBvcyBjb24gZHVlw7FvIChhY3Rpdm89dHJ1ZSkgdGVuZHJlbW9zIHF1ZSBidXNjYXJsbyBlbiBlbCBhcnJlZ2xvIHBhcmFsZWxvIHBvciBsYSBwb3NpY2nDs24NCiAgICAgICAgaWYoYWN0aXZvKXsNCiAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZXF1aXBvc0FjdC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmNvZEhpc3RvcmlhbCA9PSBpZCk7DQogICAgICAgICAgdGhpcy5jb3JyRXFwID0gdGhpcy5lcXVpcG9zQWN0W2luZGV4XS5jb3JyRXF1aXBvDQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuY29yckVxcCA9IGlkOw0KICAgICAgICB9DQogICAgICAgIC8vTGxhbWFtb3MgYSBsYSBmdW5jacOzbiBxdWUgbm9zIHBlcm1pdGUgY2FyZ2FyIGxvcyBkYXRvcyBkZWwgZXF1aXBvIGEgZWRpdGFyDQogICAgICAgIHRoaXMub2J0ZW5lckVxcEVkaXRhcih0aGlzLmNvcnJFcXApDQogICAgICB9LA0KICAgICAgLy9BY3RpdmFtb3MgbGEgdmlzdGEgZGUgaGlzdG9yaWFsDQogICAgICBBY3RIaXN0b3JpYWwoaWQsIGFjdGl2byl7DQogICAgICAgIHRoaXMucGVzdGHDsWEgPSAnaGlzdG9yaWFsJw0KICAgICAgICB0aGlzLmJvdG9uZXMgPSAnbm8nDQogICAgICAgICQoJyN0YWJsYVNpbkR1ZcOxbycpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsNCiAgICAgICAgJCgnI3RhYmxhQmFqYXMnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICQoJyN0YWJsYUNvbkR1ZcOxbycpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsNCiAgICAgICAgJCgiI2hpc3RvcmlhbEVxdWlwbyIpLkRhdGFUYWJsZSgpDQogICAgICAgIC8vT2J0ZW5lbW9zIGVsIGNvcnJlbGF0aXZvIGRlbCBlcXVpcG8sIHNpIGVzdGFtb3MgZW4gbGEgdmlzdGEgZGUgRXF1aXBvcyBjb24gZHVlw7FvIChhY3Rpdm89dHJ1ZSkgdGVuZHJlbW9zIHF1ZSBidXNjYXJsbyBlbiBlbCBhcnJlZ2xvIHBhcmFsZWxvIHBvciBsYSBwb3NpY2nDs24NCiAgICAgICAgaWYoYWN0aXZvKXsNCiAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZXF1aXBvc0FjdC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmNvZEhpc3RvcmlhbCA9PSBpZCk7DQogICAgICAgICAgdGhpcy5jb3JyID0gdGhpcy5lcXVpcG9zQWN0W2luZGV4XS5jb3JyRXF1aXBvDQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuY29yciA9IGlkOw0KICAgICAgICB9DQogICAgICAgIC8vTGxhbWFtb3MgYSBsYSBmdW5jacOzbiBxdWUgbm9zIHBlcm1pdGUgY2FyZ2FyIGxvcyBkYXRvcyBkZWwgZXF1aXBvIGEgZWRpdGFyDQogICAgICAgIHRoaXMub2J0SGlzdG9yaWFsKCkNCiAgICAgIH0sDQoNCiAgICAgIC8vRnVuY2nDs24gcXVlIHBlcm1pdGUgY2FyZ2FyIGVsIGhpc3RvcmlhbCBkZSB1biBlcXVpcG8NCiAgICAgIG9idEhpc3RvcmlhbCgpew0KICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuYXhpb3MuZ2V0KGBhcGkvSGlzdEVxdWlwby8ke3RoaXMuY29ycn1gLCBjb25maWcpDQogICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIHRoaXMuaGlzdG9yaWFsID0gcmVzLmRhdGE7DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ05vIHNlIGhhIHBvZGlkbyBjYXJnYXIgZWwgaGlzdG9yaWFsJyk7DQogICAgICAgIH0pDQogICAgICB9LA0KICAgICAgLy9BbCBjYW1iaWFyIHVuIHRpcG8gc2UgYWN0dWFsaXphIHN1IGNvZGlnbw0KICAgICAgYWN0Q29kVGlwbygpew0KICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMudGlwb3MuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS50aXBvRXF1aXBvID09IHRoaXMudGlwbyk7DQogICAgICAgIHRoaXMuY29kVGlwbyA9IHRoaXMudGlwb3NbaW5kZXhdLmNvZFRpcG8NCiAgICAgICAgaWYodGhpcy5jb2RPcmlnaW5hbCA9PT0gdGhpcy5jb2RUaXBvKXsNCiAgICAgICAgICB0aGlzLm9idGVuZXJFcXBFZGl0YXIodGhpcy5jb3JyRXFwKQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLm1hYyA9ICcnDQogICAgICAgICAgdGhpcy5yYW0gPSAwDQogICAgICAgICAgdGhpcy5wdWxnYWRhcyA9IDANCiAgICAgICAgICB0aGlzLmltZWkgPSAnJw0KICAgICAgICAgIHRoaXMuY2FwYWNpZGFkID0gMA0KICAgICAgICAgIHRoaXMubHVtZW5lcyA9IDANCiAgICAgICAgICB0aGlzLnZhID0gMA0KICAgICAgICAgIHRoaXMucHJvY2VzYWRvciA9ICcnDQogICAgICAgICAgdGhpcy5jb21wYcOxaWEgPSAnJw0KICAgICAgICAgIHRoaXMuZGlzY28gPSAnJw0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgLy9GdW5jacOzbiBxdWUgb2J0aWVuZSB0b2RvcyBsb3MgdGlwb3MNCiAgICAgIG9idGVuZXJUaXBvcygpew0KICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuYXhpb3MuZ2V0KCdhcGkvdGlwb3MnLCBjb25maWcpDQogICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIHRoaXMudGlwb3MgPSByZXMuZGF0YTsNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGFuIHBvZGlkbyBjYXJnYXIgbG9zIHRpcG9zJyk7DQogICAgICAgIH0pDQogICAgICB9LA0KICAgICAgLy9GdW5jacOzbiBxdWUgb2J0aWVuZSB0b2RvcyBsYXMgbWFyY2FzDQogICAgICBvYnRlbmVyTWFyY2FzKCl7DQogICAgICAgIGxldCBjb25maWcgPSB7DQogICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5heGlvcy5nZXQoJ2FwaS9tYXJjYXMnLCBjb25maWcpDQogICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIHRoaXMubWFyY2FzID0gcmVzLmRhdGE7DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ05vIHNlIGhhbiBwb2RpZG8gY2FyZ2FyIGxhcyBtYXJjYXMnKTsNCiAgICAgICAgfSkNCiAgICAgIH0sDQogICAgICAvL0Z1bmNpb24gcXVlIG9idGllbmUgbG9zIGRhdG9zIGRlbCBlcXVpcG8gYSBlZGl0YXINCiAgICAgIG9idGVuZXJFcXBFZGl0YXIoaWQpew0KICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuYXhpb3MuZ2V0KGBhcGkvZGF0b3NFcXAvJHtpZH1gLCBjb25maWcpDQogICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIHRoaXMuY29yciA9IHJlcy5kYXRhWzBdLmNvcnJFcXVpcG87DQogICAgICAgICAgICB0aGlzLmNvZGlnbyA9IHJlcy5kYXRhWzBdLmNvZEVxdWlwbzsNCiAgICAgICAgICAgIHRoaXMubW9kZWxvID0gcmVzLmRhdGFbMF0ubW9kZWxvOw0KICAgICAgICAgICAgdGhpcy50aXBvID0gcmVzLmRhdGFbMF0udGlwb0VxdWlwbzsNCiAgICAgICAgICAgIHRoaXMuY29kVGlwbyA9IHJlcy5kYXRhWzBdLmNvZFRpcG87DQogICAgICAgICAgICB0aGlzLmNvZE9yaWdpbmFsID0gcmVzLmRhdGFbMF0uY29kVGlwbzsNCiAgICAgICAgICAgIHRoaXMuc2VyaWUgPSByZXMuZGF0YVswXS5zZXJpZTsNCiAgICAgICAgICAgIHRoaXMubWFyY2EgPSByZXMuZGF0YVswXS5ub21NYXJjYTsNCiAgICAgICAgICAgIHRoaXMuZXN0YWRvID0gcmVzLmRhdGFbMF0uZXN0YWRvOw0KICAgICAgICAgICAgdGhpcy5jb25kaWNpb24gPSByZXMuZGF0YVswXS5jb25kaWNpb247DQogICAgICAgICAgICB0aGlzLm1hYyA9IHJlcy5kYXRhWzBdLk1BQzsNCiAgICAgICAgICAgIHRoaXMucmFtID0gcmVzLmRhdGFbMF0uUkFNOw0KICAgICAgICAgICAgdGhpcy5wdWxnYWRhcyA9IHJlcy5kYXRhWzBdLnB1bGdhZGFzOw0KICAgICAgICAgICAgdGhpcy5pbWVpID0gcmVzLmRhdGFbMF0uSU1FSTsNCiAgICAgICAgICAgIHRoaXMuY2FwYWNpZGFkID0gcmVzLmRhdGFbMF0uY2FwYWNpZGFkOw0KICAgICAgICAgICAgdGhpcy5sdW1lbmVzID0gcmVzLmRhdGFbMF0ubHVtZW5lczsNCiAgICAgICAgICAgIHRoaXMudmEgPSByZXMuZGF0YVswXS5WQTsNCiAgICAgICAgICAgIHRoaXMucHJvY2VzYWRvciA9IHJlcy5kYXRhWzBdLnByb2Nlc2Fkb3I7DQogICAgICAgICAgICB0aGlzLmNvbXBhw7FpYSA9IHJlcy5kYXRhWzBdLmNvbXBhw7FpYTsNCiAgICAgICAgICAgIHRoaXMuZGlzY28gPSByZXMuZGF0YVswXS5kaXNjb0R1cm87DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICBTd2FsLmZpcmUoew0KICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLA0KICAgICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLA0KICAgICAgICAgICAgICB0ZXh0OiAnTm8gc2UgaGEgcG9kaWRvIGluZ3Jlc2FyIGEgbG9zIGRhdG9zIGRlIGVzdGUgZXF1aXBvJywNCiAgICAgICAgICAgICAgZm9vdGVyOiAnUG9zaWJsZSBlcnJvciBkZWwgc2lzdGVtYScNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICB0aGlzLmJvdG9uZXMgPSAnc2knOw0KICAgICAgICAgICAgdGhpcy5wZXN0YcOxYSA9ICdlcXVpcG9zYWN0JzsNCiAgICAgICAgICB9KQ0KICAgICAgfSwNCiAgICAgIGNvbnZlcnREYXRlTXlzcWwoeW91ckRhdGUpew0KICAgICAgICB5b3VyRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0NCiAgICAgICAgY29uc3Qgb2Zmc2V0ID0geW91ckRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKQ0KICAgICAgICB5b3VyRGF0ZSA9IG5ldyBEYXRlKHlvdXJEYXRlLmdldFRpbWUoKSAtIChvZmZzZXQqNjAqMTAwMCkpDQogICAgICAgIHJldHVybiB5b3VyRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0NCgkJICB9LA0KICAgICAgLy9GdW5jaW9uIHF1ZSBxdWl0YSB1biBlcXVpcG8gYSB1biBmdW5jaW9uYXJpbw0KICAgICAgcXVpdGFyKGlkLCBlc3RhZG8peyANCiAgICAgICAgdmFyIGR0ID0gdGhpcy5jb252ZXJ0RGF0ZU15c3FsKG5ldyBEYXRlKCkpDQogICAgICAgIHN3YWwuZmlyZSh7DQogICAgICAgICAgICB0aXRsZTogJ8K/U2VndXJvIHF1ZSBkZXNlYSBxdWl0YXIgZWwgZXF1aXBvPycsDQogICAgICAgICAgICB0eXBlOiAnd2FybmluZycsDQogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLA0KICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzMwODVkNicsDQogICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLA0KICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbGFyJywNCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnwqFTaSEnDQogICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gew0KICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsNCiAgICAgICAgICAgIGxldCBjb25maWcgPSB7DQogICAgICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbg0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmF4aW9zLnB1dChgYXBpL2FjdHVhbGl6YUhpc3RvcmlhbC8ke2lkfWAsIHtmZWNoYTogZHR9LCBjb25maWcpDQogICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmVxdWlwb3NBY3QuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5jb2RIaXN0b3JpYWwgPT0gcmVzLmRhdGEpOw0KICAgICAgICAgICAgICAgIHRoaXMuZXF1aXBvc0FjdC5zcGxpY2UoaW5kZXgsIDEpDQogICAgICAgICAgICAgICAgU3dhbC5maXJlKA0KICAgICAgICAgICAgICAgICAgJ1NlIGhhIHF1aXRhZG8gdW4gZXF1aXBvIGFsIGZ1bmNpb25hcmlvIScsDQogICAgICAgICAgICAgICAgICAnU2VsZWNjaW9uZSBPayBwYXJhIGNvbnRpbnVhcicsDQogICAgICAgICAgICAgICAgICAnc3VjY2VzcycNCiAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICB2YXIgbWVuc2FqZSA9ICdQb3NpYmxlIGVycm9yIGRlbCBzaXN0ZW1hJzsNCiAgICAgICAgICAgICAgICBpZihlLnJlc3BvbnNlLmRhdGEubWVuc2FqZSl7DQogICAgICAgICAgICAgICAgICBtZW5zYWplID0gZS5yZXNwb25zZS5kYXRhLm1lbnNhamU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywNCiAgICAgICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBwb2RpZG8gcXVpdGFyIGVsIGVxdWlwbyBhIHN1IGZ1bmNpb25hcmlvJywNCiAgICAgICAgICAgICAgICAgIGZvb3RlcjogbWVuc2FqZQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0sDQogICAgICAvL011ZXN0cmEgbGEgdmlzdGEgZGUgbG9zIGVxdWlwb3MgY29uIHVuIGR1ZcOxbyBhY3R1YWwNCiAgICAgIE1vc3RyYXJFcXVpcG9zQWN0KCl7DQogICAgICAgICQoJyN0YWJsYVNpbkR1ZcOxbycpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsNCiAgICAgICAgJCgnI3RhYmxhQmFqYXMnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICQoJyN0YWJsYUNvbkR1ZcOxbycpLkRhdGFUYWJsZSgpOw0KICAgICAgICB0aGlzLnBlc3Rhw7FhID0gJ2VxdWlwb3NhY3QnDQogICAgICAgIHRoaXMubGlzdGFyRXF1aXBvc0FjdCgpOw0KICAgICAgfSwNCiAgICAgIC8vSW5ncmVzYSBsb3MgZGF0b3MgYWwgYXJyZWdsbyBxdWUgdXRpbGl6YXJhIGxhIHRhYmxhIGRlIEVxdWlwbyBjb24gZHVlw7Fvcw0KICAgICAgbGlzdGFyRXF1aXBvc0FjdCgpew0KICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuYXhpb3MuZ2V0KCdhcGkvZXF1aXBvc0NvbkR1ZW5vJywgY29uZmlnKQ0KICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICB0aGlzLmVxdWlwb3NBY3QgPSByZXMuZGF0YTsNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGFuIHBvZGlkbyBjYXJnYXIgbG9zIGVxdWlwb3MgY29uIER1ZcOxbycpOw0KICAgICAgICAgIH0pDQogICAgICB9LA0KICAgICAgLy9EZWZpbmUgbGEgdmlzdGEgZGUgRXF1aXBvcyBzaW4gdW4gZHVlw7FvIGFjdHVhbA0KICAgICAgRXF1aXBvc0J1ZW5Fc3RhZG8oKXsNCiAgICAgICAgJCgnI3RhYmxhQ29uRHVlw7FvJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOw0KICAgICAgICAkKCcjdGFibGFCYWphcycpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsNCiAgICAgICAgJCgnI3RhYmxhU2luRHVlw7FvJykuRGF0YVRhYmxlKCk7DQogICAgICAgIHRoaXMucGVzdGHDsWEgPSAnZXF1aXBvc05vQWN0Jw0KICAgICAgICB0aGlzLmxpc3RhckVxdWlwb3NCdWVuRXN0YWRvKCk7DQogICAgICB9LA0KICAgICAgLy9JbmdyZXNhIGxvcyBkYXRvcyBhbCBhcnJlZ2xvIHF1ZSB1dGlsaXphcmEgbGEgdGFibGEgZGUgRXF1aXBvIHNpbiBkdWXDsW9zDQogICAgICBsaXN0YXJFcXVpcG9zQnVlbkVzdGFkbygpew0KICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgICB0aGlzLmF4aW9zLmdldCgnYXBpL2VxdWlwb3NTaW5EdWVubycsIGNvbmZpZykNCiAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgdGhpcy5lcXVpcG9zQnVlbkVzdGFkbyA9IHJlcy5kYXRhOw0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdObyBzZSBoYW4gcG9kaWRvIGNhcmdhciBsb3MgZXF1aXBvcyBzaW4gRHVlw7FvJyk7DQogICAgICAgICAgfSkNCiAgICAgIH0sDQogICAgICAvL0RlZmluZSBsYSB2aXN0YSBkZSBFcXVpcG9zIGRhZG9zIGRlIGJhamENCiAgICAgIEVxdWlwb3NNYWxFc3RhZG8oKXsNCiAgICAgICAgJCgnI3RhYmxhQ29uRHVlw7FvJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOw0KICAgICAgICAkKCcjdGFibGFTaW5EdWXDsW8nKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICQoJyN0YWJsYUJhamFzJykuRGF0YVRhYmxlKCkNCiAgICAgICAgdGhpcy5wZXN0YcOxYSA9ICdlcXVpcG9zQmFqYScNCiAgICAgICAgdGhpcy5saXN0YXJFcXVpcG9zTWFsRXN0YWRvKCk7DQogICAgICB9LA0KICAgICAgLy9JbmdyZXNhIGxvcyBkYXRvcyBhbCBhcnJlZ2xvIHF1ZSB1dGlsaXphcmEgbGEgdGFibGEgZGUgRXF1aXBvIGRhZG9zIGRlIGJhamENCiAgICAgIGxpc3RhckVxdWlwb3NNYWxFc3RhZG8oKXsNCiAgICAgICAgbGV0IGNvbmZpZyA9IHsNCiAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmF4aW9zLmdldCgnYXBpL2VxdWlwb3NCYWphJywgY29uZmlnKQ0KICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICB0aGlzLmVxdWlwb3NNYWxFc3RhZG8gPSByZXMuZGF0YTsNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGFuIHBvZGlkbyBjYXJnYXIgbG9zIGVxdWlwb3MgZGFkb3MgZGUgYmFqYScpOw0KICAgICAgICB9KQ0KICAgICAgfSwNCiAgICAgIC8vRnVuY2nDs24gcXVlIGFncmVnYSB1biBudWV2byBUaXBvIHkgcmV0b3JuYSB0cnVlIG8gZmFsc2UNCiAgICAgIGFncmVnYVRpcG8oKXsNCiAgICAgICAgbGV0IGNvbmZpZyA9IHsNCiAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB0aGlzLiR2LiR0b3VjaCgpDQogICAgICAgIGlmKCF0aGlzLiR2LnRpcG9OZXcuJGludmFsaWQpew0KICAgICAgICAgIHRoaXMuYXhpb3MucG9zdCgnYXBpL2FncmVnYVRpcG8nLCB7dGlwb0VxdWlwbzogdGhpcy50aXBvTmV3fSwgY29uZmlnKQ0KICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgaWYoIXJlcy5kYXRhLnNxbE1lc3NhZ2Upew0KICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgNCiAgICAgICAgICAgICAgICAgICdTZSBoYSBnZW5lcmFkbyB1biBudWV2byB0aXBvIGRlIGVxdWlwbyAnLA0KICAgICAgICAgICAgICAgICAgJ1NlbGVjY2lvbmUgT2sgcGFyYSBjb250aW51YXInLA0KICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnDQogICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgIHRoaXMudGlwb01vc3RyYXIgPSAnc2knOw0KICAgICAgICAgICAgICAgIHRoaXMub2J0ZW5lclRpcG9zKCk7DQogICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywNCiAgICAgICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBjcmVhZG8gZXN0ZSBudWV2byB0aXBvJywNCiAgICAgICAgICAgICAgICAgIGZvb3RlcjogJ05vbWJyZSB5YSBzZSBlbmN1ZW50cmEgcmVnaXN0cmFkbycNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICBTd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsDQogICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywNCiAgICAgICAgICAgICAgICB0ZXh0OiAnTm8gc2UgaGEgY3JlYWRvIGVzdGUgbnVldm8gdGlwbycsDQogICAgICAgICAgICAgICAgZm9vdGVyOiAnUG9zaWJsZSBlcnJvciBkZWwgc2lzdGVtYScNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0pDQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnUG9yZmF2b3IgaW5ncmVzZSB1biBudWV2byB0aXBvJyk7DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAvL0Z1bmNpw7NuIHF1ZSBhZ3JlZ2EgdW5hIG51ZXZhIG1hcmNhDQogICAgICBhZ3JlZ2FNYXJjYSgpew0KICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuJHYuJHRvdWNoKCkNCiAgICAgICAgaWYoIXRoaXMuJHYubWFyY2FOZXcuJGludmFsaWQpew0KICAgICAgICAgIHRoaXMuYXhpb3MucG9zdCgnYXBpL2FncmVnYU1hcmNhJywge25vbU1hcmNhOiB0aGlzLm1hcmNhTmV3fSwgY29uZmlnKQ0KICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgaWYoIXJlcy5kYXRhLnNxbE1lc3NhZ2Upew0KICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgNCiAgICAgICAgICAgICAgICAgICdTZSBoYSBnZW5lcmFkbyB1bmEgbnVldmEgbWFyY2EgJywNCiAgICAgICAgICAgICAgICAgICdTZWxlY2Npb25lIE9rIHBhcmEgY29udGludWFyJywNCiAgICAgICAgICAgICAgICAgICdzdWNjZXNzJw0KICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgICB0aGlzLnRpcG9Nb3N0cmFyID0gJ3NpJzsNCiAgICAgICAgICAgICAgICB0aGlzLm9idGVuZXJNYXJjYXMoKTsNCiAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgU3dhbC5maXJlKHsNCiAgICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsDQogICAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLA0KICAgICAgICAgICAgICAgICAgdGV4dDogJ05vIHNlIGhhIGNyZWFkbyBlc3RhIG51ZXZhIG1hcmNhJywNCiAgICAgICAgICAgICAgICAgIGZvb3RlcjogJ05vbWJyZSB5YSBzZSBlbmN1ZW50cmEgcmVnaXN0cmFkbycNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICBTd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsDQogICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywNCiAgICAgICAgICAgICAgICB0ZXh0OiAnTm8gc2UgaGEgbG9ncmFkbyBjcmVhciBlc3RhIG51ZXZhIG1hcmNhJywNCiAgICAgICAgICAgICAgICBmb290ZXI6ICdQb3NpYmxlIGVycm9yIGRlbCBzaXN0ZW1hJw0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgIH0pDQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnUG9yZmF2b3IgaW5ncmVzZSB1biBub21icmUgcGFyYSBsYSBtYXJjYScpOw0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgLy9GdW5jacOzbiBxdWUgcGVybWl0ZSB0cmFuc2Zvcm1hciBsb3MgZGF0b3MgYSBOVUxMIHNlZ8O6biBlbCB0aXBvIGRlIGVxdWlwbyBhbCBhZ3JlZ2FyIHVubyBudWV2bw0KICAgICAgdHJhbnNmb3JtYXJOdWxsKCl7DQogICAgICAgIGlmKHRoaXMuY29kVGlwbyAhPT0gMSAmJiB0aGlzLmNvZFRpcG8gIT09IDMpew0KICAgICAgICAgIHRoaXMubWFjID0gbnVsbA0KICAgICAgICB9DQogICAgICAgIGlmKHRoaXMuY29kVGlwbyAhPT0gMiAmJiB0aGlzLmNvZFRpcG8gIT09IDEwICYmIHRoaXMuY29kVGlwbyAhPT0gMTEgJiYgdGhpcy5jb2RUaXBvICE9PSAxMiAmJiB0aGlzLmNvZFRpcG8gIT09IDE3ICYmIHRoaXMuY29kVGlwbyAhPT0gMjEpew0KICAgICAgICAgIHRoaXMucmFtID0gbnVsbA0KICAgICAgICAgIHRoaXMucHJvY2VzYWRvciA9IG51bGwNCiAgICAgICAgfQ0KICAgICAgICBpZih0aGlzLmNvZFRpcG8gIT09IDIgJiYgdGhpcy5jb2RUaXBvICE9PSAxMCAmJiB0aGlzLmNvZFRpcG8gIT09IDExICYmIHRoaXMuY29kVGlwbyAhPT0gMTIgJiYgdGhpcy5jb2RUaXBvICE9PSAxNyAmJiB0aGlzLmNvZFRpcG8gIT09IDIxICYmIHRoaXMuY29kVGlwbyAhPT0gMyAmJiB0aGlzLmNvZFRpcG8gIT09IDggJiYgdGhpcy5jb2RUaXBvICE9PSAyNyl7DQogICAgICAgICAgdGhpcy5wdWxnYWRhcyA9IG51bGwNCiAgICAgICAgfQ0KICAgICAgICBpZih0aGlzLmNvZFRpcG8gIT09IDQgJiYgdGhpcy5jb2RUaXBvICE9PSA3ICYmIHRoaXMuY29kVGlwbyAhPT0gMTYpew0KICAgICAgICAgIHRoaXMuaW1laSA9IG51bGwNCiAgICAgICAgICB0aGlzLmNvbXBhw7FpYSA9IG51bGwNCiAgICAgICAgfQ0KICAgICAgICBpZih0aGlzLmNvZFRpcG8gPT0gNSAmJiB0aGlzLmNvZFRpcG8gPT0gOSAmJiB0aGlzLmNvZFRpcG8gPT0gMjEpew0KICAgICAgICAgIHRoaXMuY2FwYWNpZGFkID0gbnVsbA0KICAgICAgICB9DQogICAgICAgIGlmKHRoaXMuY29kVGlwbyAhPT0gMiAmJiB0aGlzLmNvZFRpcG8gIT09IDEwICYmIHRoaXMuY29kVGlwbyAhPT0gMTEgJiYgdGhpcy5jb2RUaXBvICE9PSAxMiAmJiB0aGlzLmNvZFRpcG8gIT09IDE3KXsNCiAgICAgICAgICB0aGlzLmRpc2NvID0gbnVsbA0KICAgICAgICB9DQogICAgICAgIGlmKHRoaXMuY29kVGlwbyAhPT0gMTMpew0KICAgICAgICAgIHRoaXMubHVtZW5lcyA9IG51bGwNCiAgICAgICAgfQ0KICAgICAgICBpZih0aGlzLmNvZFRpcG8gIT09IDI1KXsNCiAgICAgICAgICB0aGlzLnZhID0gbnVsbA0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgLy9GdW5jacOzbiBxdWUgcGVybWl0ZSBlZGl0YXIgdW4gZXF1aXBvIGFsZ3Vub3MgZGF0b3Mgc29uIHJlcXVlcmlkb3Mgc2UgdXNhIFZ1YWxpZGF0ZSAoJHYuKSBwYXJhIHZlcmlmaWNhciBzaSBjdW1wbGVuIGxhcyBjb25kaWNpb25lcw0KICAgICAgRWRpdGFyRXF1aXBvKCl7DQogICAgICAgIHRoaXMudHJhbnNmb3JtYXJOdWxsKCkNCiAgICAgICAgbGV0IGNvbmZpZyA9IHsNCiAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB0aGlzLiR2LiR0b3VjaCgpDQogICAgICAgIGlmKCF0aGlzLiR2LmNvZGlnby4kaW52YWxpZCAmJiAhdGhpcy4kdi5tb2RlbG8uJGludmFsaWQgJiYgIXRoaXMuJHYuc2VyaWUuJGludmFsaWQgJiYgIXRoaXMuJHYuY29uZGljaW9uLiRpbnZhbGlkKXsNCiAgICAgICAgICB0aGlzLmF4aW9zLnB1dChgYXBpL2FjdHVhbGl6YUVxdWlwby8ke3RoaXMuY29ycn1gLCB7Y29kRXF1aXBvOiB0aGlzLmNvZGlnbywgbW9kZWxvOiB0aGlzLm1vZGVsbywgc2VyaWU6IHRoaXMuc2VyaWUsIGVzdGFkbzogdGhpcy5lc3RhZG8sIGNvbmRpY2lvbjogdGhpcy5jb25kaWNpb24sIHRpcG9FcXVpcG86IHRoaXMudGlwbywgbm9tTWFyY2E6IHRoaXMubWFyY2EsIHZhOiB0aGlzLnZhLCBjb21wYcOxaWE6IHRoaXMuY29tcGHDsWlhLCBwdWxnYWRhczogdGhpcy5wdWxnYWRhcywgbWFjOiB0aGlzLm1hYywgcHJvY2VzYWRvcjogdGhpcy5wcm9jZXNhZG9yLCByYW06IHRoaXMucmFtLCBkaXNjb0R1cm86IHRoaXMuZGlzY28sIGltZWk6IHRoaXMuaW1laSwgY2FwYWNpZGFkOiB0aGlzLmNhcGFjaWRhZCwgbHVtZW5lczogdGhpcy5sdW1lbmVzfSwgY29uZmlnKQ0KICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgaWYoIXJlcy5kYXRhLnNxbE1lc3NhZ2Upew0KICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgNCiAgICAgICAgICAgICAgICAgICdTZSBoYSBlZGl0YWRvIGFsIGVxdWlwbyBzYXRpc2ZhY3RvcmlhbWVudGUnLA0KICAgICAgICAgICAgICAgICAgJ1NlbGVjY2lvbmUgT2sgcGFyYSBjb250aW51YXInLA0KICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnDQogICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICBTd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywNCiAgICAgICAgICAgICAgICAgIHRpdGxlOiAnT29wcy4uLicsDQogICAgICAgICAgICAgICAgICB0ZXh0OiAnTm8gc2UgaGEgYWN0dWFsaXphZG8gZWwgZXF1aXBvJywNCiAgICAgICAgICAgICAgICAgIGZvb3RlcjogJ0RhdG8gcmVwZXRpZG8gYXNlZ3VyZXNlIGRlIHF1ZSBlbCBjb2RpZ28gbyBuwrAgZGUgc2VyaWUgbm8gZXhpc3RhbicNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ05vIHNlIGhhIGxvZ3JhZG8gZWRpdGFyIGFsIGVxdWlwbycpOw0KICAgICAgICAgIH0pDQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnUG9yZmF2b3IgaW5ncmVzZSB0b2RvcyBsb3MgZGF0b3MgcmVxdWVyaWRvcycpOw0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgLy9TZSByZWluaWNpYSBsYSBydXRhIHBhcmEgcmVncmVzYXIgYSBsYSBwYW50YWxsYSBQcmluY2lwYWwNCiAgICAgIFZvbHZlcigpew0KICAgICAgICAkKCcjaGlzdG9yaWFsRXF1aXBvJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOw0KICAgICAgICAkKCcjdGFibGFDb25EdWXDsW8nKS5EYXRhVGFibGUoKQ0KICAgICAgICB0aGlzLnBlc3Rhw7FhID0gJ2VxdWlwb3NhY3QnDQogICAgICAgIHRoaXMuYm90b25lcyA9ICdzaScNCiAgICAgICAgdGhpcy5lcXVpcG9zQWN0ID0gW10NCiAgICAgICAgdGhpcy5saXN0YXJFcXVpcG9zQWN0KCk7DQogICAgICB9LA0KICAgICAgLy9EZXRlcm1pbmEgbGEgdmlzdGEgcGFyYSBlbnZpYXIgdW4gZXF1aXBvIGEgdW4gbnVldm8gZHVlw7FvLCByZWNpYmUgbGEgaWQgZGVsIGVxdWlwbyBlbiBjdWVzdGlvbg0KICAgICAgRW52aWFyKGlkKXsNCiAgICAgICAgdGhpcy5wZXN0YcOxYSA9ICdlbnZpYXInDQogICAgICAgIHRoaXMuYm90b25lcyA9ICdubycNCiAgICAgICAgdGhpcy5udW1lcm8gPSBpZA0KICAgICAgICAkKCcjdGFibGFTaW5EdWXDsW8nKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICQoJyN0YWJsYUJhamFzJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOw0KICAgICAgICAkKCcjdGFibGFDb25EdWXDsW8nKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgIHRoaXMuZHVlw7Fvc0phcmRpbigpOw0KICAgICAgfSwNCiAgICAgIC8vQ2FyZ2EgdG9kb3MgbG9zIGphcmRpbmVzIGRlIGxhIGJhc2UgZGUgZGF0b3MNCiAgICAgIG5vbWJyZXNKYXJkaW4oKXsNCiAgICAgICAgbGV0IGNvbmZpZyA9IHsNCiAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmF4aW9zLmdldCgnYXBpL2RlcGVuZGVuY2lhcycsIGNvbmZpZykNCiAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgdGhpcy5ub21icmVzID0gcmVzLmRhdGE7DQogICAgICAgICAgICB0aGlzLm5vbWJyZSA9IHJlcy5kYXRhWzBdLm5vbUphcmRpbg0KICAgICAgICAgICAgdGhpcy5jb2RpZ29KYXJkaW4gPSByZXMuZGF0YVswXS5jb2RKYXJkaW4NCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGFuIHBvZGlkbyBjYXJnYXIgbG9zIG5vbWJyZXMgZGUgbG9zIGphcmRpbmVzJyk7DQogICAgICAgIH0pDQogICAgICB9LA0KICAgICAgZHVlw7Fvc0phcmRpbigpew0KICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuYXhpb3MuZ2V0KGBhcGkvZnVuY2lvbmFyaW9zRGVwLyR7dGhpcy5jb2RpZ29KYXJkaW59YCwgY29uZmlnKQ0KICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgIHRoaXMuZHVlw7Fvc0phcmRpbkxpc3RhID0gcmVzLmRhdGE7DQogICAgICAgICAgICAgIHRoaXMuZHVlw7FvID0gcmVzLmRhdGFbMF0ubm9tYnJlDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICB0aGlzLmFsZXJ0YSgnZGFuZ2VyJywgJ05vIHNlIGhhbiBwb2RpZG8gY2FyZ2FyIGxvcyBmdW5jaW9uYXJpb3MgZGVsIGphcmTDrW4gJyArIHRoaXMubm9tYnJlKTsNCiAgICAgICAgICB9KQ0KICAgICAgfSwNCiAgICAgIGNhbWJpYUphcmRpbigpew0KICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMubm9tYnJlcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLm5vbUphcmRpbiA9PSB0aGlzLm5vbWJyZSk7DQogICAgICAgIHRoaXMuY29kaWdvSmFyZGluID0gdGhpcy5ub21icmVzW2luZGV4XS5jb2RKYXJkaW4NCiAgICAgICAgdGhpcy5kdWXDsW9zSmFyZGluKCkNCiAgICAgIH0sDQogICAgICAvL0NhcmdhIHRvZG9zIGxvcyBmdW5jaW9uYXJpb3MgZGUgbGEgYmFzZSBkZSBkYXRvcw0KICAgICAgbGlzdGFyRHVlw7Fvcygpew0KICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuYXhpb3MuZ2V0KCdhcGkvZnVuY2lvbmFyaW9zJywgY29uZmlnKQ0KICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICB0aGlzLmR1ZcOxb3MgPSByZXMuZGF0YTsNCiAgICAgICAgICAgIHRoaXMuZHVlw7FvID0gcmVzLmRhdGFbMF0ubm9tYnJlDQogICAgICAgICAgICB0aGlzLnJldmlzYWRvID0gcmVzLmRhdGFbMF0ubm9tYnJlDQogICAgICAgICAgICB0aGlzLnJlZGFjdGFkbyA9IHJlcy5kYXRhWzBdLm5vbWJyZQ0KICAgICAgICAgICAgdGhpcy5hcHJvYmFkbyA9IHJlcy5kYXRhWzBdLm5vbWJyZQ0KICAgICAgICAgICAgdGhpcy5Vc3VhcmlvID0gcmVzLmRhdGFbMF0ubm9tYnJlDQogICAgICAgICAgICB0aGlzLmR1ZW5vRXhwb3J0YXIgPSByZXMuZGF0YVswXS5ub21icmUNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGFuIHBvZGlkbyBjYXJnYXIgbG9zIG5vbWJyZXMgZGUgbG9zIEZ1bmNpb25hcmlvcycpOw0KICAgICAgICB9KQ0KICAgICAgfSwNCiAgICAgIC8vRnVuY2nDs24gcXVlIGVudmlhIHVuIGVxdWlwbyBjb24gdW4gbnVldm8gZHVlw7FvDQogICAgICBFbnZpYXJFcXVpcG8oKXsNCiAgICAgICAgdmFyIGR0ID0gdGhpcy5jb252ZXJ0RGF0ZU15c3FsKG5ldyBEYXRlKCkpDQogICAgICAgIHN3YWwuZmlyZSh7DQogICAgICAgICAgICB0aXRsZTogJ8K/U2VndXJvIHF1ZSBkZXNlYSBhc2lnbmFyIGVzdGUgZXF1aXBvIGFsIHVzdWFyaW8gJyArIHRoaXMuZHVlw7FvICsgJz8nLA0KICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLA0KICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwNCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLA0KICAgICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJywNCiAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdDYW5jZWxhcicsDQogICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ8KhU2khJw0KICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsNCiAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7DQogICAgICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5heGlvcy5wb3N0KCdhcGkvYWdyZWdhSGlzdG9yaWFsJywge3pvbmE6IHRoaXMuem9uYSwgbm9tYnJlOiB0aGlzLmR1ZcOxbywgbm9tSmFyZGluOiB0aGlzLm5vbWJyZSwgY29yckVxdWlwbzogdGhpcy5udW1lcm8sIGZlY2hhSW5pY2lvOiBkdH0sIGNvbmZpZykNCiAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBTd2FsLmZpcmUoDQogICAgICAgICAgICAgICAgICAnU2UgaGEgYXNpZ25hZG8gdW4gZXF1aXBvIGFsIGZ1bmNpb25hcmlvICcgKyB0aGlzLmR1ZcOxbyArJyEnLA0KICAgICAgICAgICAgICAgICAgJ1NlbGVjY2lvbmUgT2sgcGFyYSBjb250aW51YXInLA0KICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnDQogICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgIC8vbG9jYXRpb24ucmVsb2FkKCk7DQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgICAgICBTd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywNCiAgICAgICAgICAgICAgICAgIHRpdGxlOiAnT29wcy4uLicsDQogICAgICAgICAgICAgICAgICB0ZXh0OiAnTm8gc2UgaGEgcG9kaWRvIGVudmlhciBlbCBlcXVpcG8nLA0KICAgICAgICAgICAgICAgICAgZm9vdGVyOiAnUG9zaWJsZSBlcnJvciBkZWwgc2lzdGVtYScNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICB9LA0KICAgICAgY291bnREb3duQ2hhbmdlZChkaXNtaXNzQ291bnREb3duKSB7DQogICAgICAgIHRoaXMuZGlzbWlzc0NvdW50RG93biA9IGRpc21pc3NDb3VudERvd24NCiAgICAgIH0sDQogICAgICBzaG93QWxlcnQoKSB7DQogICAgICAgIHRoaXMuZGlzbWlzc0NvdW50RG93biA9IHRoaXMuZGlzbWlzc1NlY3MNCiAgICAgIH0sDQogICAgICAvL0Z1bmNpb24gcXVlIGNhbWJpYXJhIGVudHJlIHVuIHRpcG8gZXhpc3RlbnRlIHkgdW5vIG51ZXZvDQogICAgICBDYW1iaW9UaXBvKCl7DQogICAgICAgIGlmKHRoaXMudGlwb01vc3RyYXIgPT09ICdubycpew0KICAgICAgICAgIHRoaXMudGlwb01vc3RyYXIgPSAnc2knDQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMudGlwb01vc3RyYXIgPSAnbm8nDQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBFeHBvcnQyRG9jKGNvZGlnb0VxdWlwbywgbW9kZWxvLCB0aXBvKXsNCiAgICAgICAgdGhpcy5wZXN0YcOxYSA9ICd3b3JkJw0KICAgICAgICB0aGlzLmJvdG9uZXMgPSAnbm8nDQogICAgICAgICQoJyN0YWJsYVNpbkR1ZcOxbycpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsNCiAgICAgICAgJCgnI3RhYmxhQmFqYXMnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICQoJyN0YWJsYUNvbkR1ZcOxbycpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsNCiAgICAgICAgY29uc29sZS5sb2coY29kaWdvRXF1aXBvKQ0KICAgICAgICB0aGlzLmNvZEVxdWlwb0V4cG9ydGFyID0gY29kaWdvRXF1aXBvDQogICAgICAgIHRoaXMubm9tRXF1aXBvRXhwb3J0YXIgPSBtb2RlbG8NCiAgICAgICAgdGhpcy50aXBvRXhwb3J0YXIgPSB0aXBvDQogICAgICB9LA0KICAgICAgY3JlYXRlRG9jKCkgew0KICAgICAgICB0aGlzLiR2LiR0b3VjaCgpDQogICAgICAgIGlmKCF0aGlzLiR2LnRpcG9FeHBvcnRhci4kaW52YWxpZCAmJiAhdGhpcy4kdi5jbGFzaWZpY2FjaW9uRXhwb3J0YXIuJGludmFsaWQgJiYgIXRoaXMuJHYudWJpY2FjaW9uRXhwb3J0YXIuJGludmFsaWQgJiYgIXRoaXMuJHYuSW50cm9kdWNjaW9uLiRpbnZhbGlkICYmICF0aGlzLiR2Lm9iamV0aXZvLiRpbnZhbGlkICYmICF0aGlzLiR2LmRlZmljaWVuY2lhcy4kaW52YWxpZCAgJiYgIXRoaXMuJHYuRGlyZWNjaW9uLiRpbnZhbGlkICYmICF0aGlzLiR2Lm9ic2VydmFjaW9uZXMuJGludmFsaWQpew0KICAgICAgICAgICAgdmFyIGR0ID0gdGhpcy5jb252ZXJ0RGF0ZU15c3FsKG5ldyBEYXRlKCkpDQogICAgICAgICAgICB2YXIgZXhwb3J0YXIgPSB7dGlwbzogdGhpcy50aXBvRXhwb3J0YXIsIGNsYXNpZmljYWNpb246IHRoaXMuY2xhc2lmaWNhY2lvbkV4cG9ydGFyLCB1YmljYWNpb246IHRoaXMudWJpY2FjaW9uRXhwb3J0YXIsIGVuY2FyZ2FkbzogdGhpcy5kdWVub0V4cG9ydGFyLCBpbnRyb2R1Y2Npb246IHRoaXMuSW50cm9kdWNjaW9uLCBvYmpldGl2bzogdGhpcy5vYmpldGl2bywgZGVmaWNpZW5jaWFzOiB0aGlzLmRlZmljaWVuY2lhcywgdXN1YXJpbzogdGhpcy5Vc3VhcmlvLCBkaXJlY2Npb246IHRoaXMuRGlyZWNjaW9ufQ0KICAgICAgICAgICAgdmFyIGRhdG9zVXN1YXJpb0VxcCA9IHtub21FcXVpcG86IHRoaXMubm9tRXF1aXBvRXhwb3J0YXIsIGNvZGlnbzogdGhpcy5jb2RFcXVpcG9FeHBvcnRhciwgcmVkYWN0YWRvOiB0aGlzLnJlZGFjdGFkbywgcmV2aXNhZG86IHRoaXMucmV2aXNhZG8sIGFwcm9iYWRvOiB0aGlzLmFwcm9iYWRvLCBvYnNlcnZhY2lvbmVzOiB0aGlzLm9ic2VydmFjaW9uZXMsIGVzdGFkb0V4cG9ydGFyOiB0aGlzLmVzdGFkb0V4cG9ydGFyLCB1YmljYWNpb246IHRoaXMudWJpY2FjaW9ufQ0KICAgICAgICAgICAgbG9hZEZpbGUoDQogICAgICAgICAgICAgICAgImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9JTkZPUk1FLmRvY3giLA0KICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvciwgY29udGVudCkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHppcCA9IG5ldyBQaXpaaXAoY29udGVudCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvYyA9IG5ldyBEb2N4dGVtcGxhdGVyKHppcCwgew0KICAgICAgICAgICAgICAgICAgICAgICAgcGFyYWdyYXBoTG9vcDogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVicmVha3M6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgICAgIC8vIHJlbmRlciB0aGUgZG9jdW1lbnQgKHJlcGxhY2UgYWxsIG9jY3VyZW5jZXMgb2Yge2ZpcnN0X25hbWV9IGJ5IEpvaG4sIHtsYXN0X25hbWV9IGJ5IERvZSwgLi4uKQ0KICAgICAgICAgICAgICAgICAgICBkb2MucmVuZGVyKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpcG9FeHBvcnRhcjogZXhwb3J0YXIudGlwbywNCiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNpZmljYWNpb25FeHBvcnRhcjogZXhwb3J0YXIuY2xhc2lmaWNhY2lvbiwNCiAgICAgICAgICAgICAgICAgICAgICAgIHViaWNhY2lvbkV4cG9ydGFyOiBleHBvcnRhci51YmljYWNpb24sDQogICAgICAgICAgICAgICAgICAgICAgICBkdWVub0V4cG9ydGFyOiBleHBvcnRhci5lbmNhcmdhZG8sDQogICAgICAgICAgICAgICAgICAgICAgICBJbnRyb2R1Y2Npb246IGV4cG9ydGFyLmludHJvZHVjY2lvbiwNCiAgICAgICAgICAgICAgICAgICAgICAgIE9iamV0aXZvOiBleHBvcnRhci5vYmpldGl2bywNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmljaWVuY2lhczogZXhwb3J0YXIuZGVmaWNpZW5jaWFzLA0KICAgICAgICAgICAgICAgICAgICAgICAgVXN1YXJpbzogZXhwb3J0YXIudXN1YXJpbywNCiAgICAgICAgICAgICAgICAgICAgICAgIERpcmVjY2lvbjogZXhwb3J0YXIuZGlyZWNjaW9uLA0KICAgICAgICAgICAgICAgICAgICAgICAgbm9tRXF1aXBvOiBkYXRvc1VzdWFyaW9FcXAubm9tRXF1aXBvLA0KICAgICAgICAgICAgICAgICAgICAgICAgY29kaWdvOiBkYXRvc1VzdWFyaW9FcXAuY29kaWdvLA0KICAgICAgICAgICAgICAgICAgICAgICAgcmVkYWN0YWRvOiBkYXRvc1VzdWFyaW9FcXAucmVkYWN0YWRvLA0KICAgICAgICAgICAgICAgICAgICAgICAgcmV2aXNhZG86IGRhdG9zVXN1YXJpb0VxcC5yZXZpc2FkbywNCiAgICAgICAgICAgICAgICAgICAgICAgIGFwcm9iYWRvOiBkYXRvc1VzdWFyaW9FcXAuYXByb2JhZG8sDQogICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZhY2lvbmVzOiBkYXRvc1VzdWFyaW9FcXAub2JzZXJ2YWNpb25lcywNCiAgICAgICAgICAgICAgICAgICAgICAgIGVzdGFkb0V4cG9ydGFyOiBkYXRvc1VzdWFyaW9FcXAuZXN0YWRvRXhwb3J0YXIsDQogICAgICAgICAgICAgICAgICAgICAgICB1YmljYWNpb246IGRhdG9zVXN1YXJpb0VxcC51YmljYWNpb24sDQogICAgICAgICAgICAgICAgICAgICAgICBmZWNoYTogZHQNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IG91dCA9IGRvYy5nZXRaaXAoKS5nZW5lcmF0ZSh7DQogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiYmxvYiIsDQogICAgICAgICAgICAgICAgICAgICAgICBtaW1lVHlwZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnQiLA0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgLy8gT3V0cHV0IHRoZSBkb2N1bWVudCB1c2luZyBEYXRhLVVSSQ0KICAgICAgICAgICAgICAgICAgICBzYXZlQXMob3V0LCAiSW5mb3JtZUJhamEiICsgZGF0b3NVc3VhcmlvRXFwLmNvZGlnbyArICIuZG9jeCIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICk7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGEgbG9ncmFkbyBnZW5lcmFyIGVsIGluZm9ybWUgZGUgYmFqYSwgYXNlZ3VyZXNlIGRlIHF1ZSB0b2RvcyBsb3MgY2FtcG9zIGVzdGVuIGluZ3Jlc2Fkb3MgY29ycmVjdGFtZW50ZS4nKQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICAvL1ByZXBhcmEgbGFzIHRhYmxhcyBjb21vIERhdGF0YWJsZXMgZGUgSlF1ZXJ5DQogICAgYXN5bmMgbW91bnRlZCgpew0KICAgICAgYXdhaXQgJCgnI3RhYmxhQ29uRHVlw7FvJykuRGF0YVRhYmxlKCkNCiAgICAgIGF3YWl0ICQoJyN0YWJsYVNpbkR1ZcOxbycpLkRhdGFUYWJsZSgpOw0KICAgICAgYXdhaXQgJCgiI3RhYmxhQmFqYXMiKS5EYXRhVGFibGUoKQ0KICAgICAgYXdhaXQgJCgiI2hpc3RvcmlhbEVxdWlwbyIpLkRhdGFUYWJsZSgpDQogICAgfSwNCiAgICB3YXRjaDogew0KICAgICAgZXF1aXBvc0FjdCh2YWwpIHsNCiAgICAgICAgaWYodGhpcy5wZXN0YcOxYSA9PT0gJ2VxdWlwb3NhY3QnKXsNCiAgICAgICAgICAkKCcjdGFibGFDb25EdWXDsW8nKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCk9PiB7DQogICAgICAgICAgICAkKCcjdGFibGFDb25EdWXDsW8nKS5EYXRhVGFibGUoKQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgZXF1aXBvc0J1ZW5Fc3RhZG8odmFsKSB7DQogICAgICAgIGlmKHRoaXMucGVzdGHDsWEgPT09ICdlcXVpcG9zTm9BY3QnKXsNCiAgICAgICAgICAkKCcjdGFibGFTaW5EdWXDsW8nKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCk9PiB7DQogICAgICAgICAgICAkKCcjdGFibGFTaW5EdWXDsW8nKS5EYXRhVGFibGUoKQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgZXF1aXBvc01hbEVzdGFkbyh2YWwpIHsNCiAgICAgICAgaWYodGhpcy5wZXN0YcOxYSA9PT0gJ2VxdWlwb3NCYWphJyl7DQogICAgICAgICAgJCgnI3RhYmxhQmFqYXMnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCk9PiB7DQogICAgICAgICAgICAkKCcjdGFibGFCYWphcycpLkRhdGFUYWJsZSgpDQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBoaXN0b3JpYWwodmFsKSB7DQogICAgICAgIGlmKHRoaXMucGVzdGHDsWEgPT09ICdoaXN0b3JpYWwnKXsNCiAgICAgICAgICAkKCcjaGlzdG9yaWFsRXF1aXBvJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOw0KICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpPT4gew0KICAgICAgICAgICAgJCgnI2hpc3RvcmlhbEVxdWlwbycpLkRhdGFUYWJsZSgpDQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQp9Ow0KDQoNCg=="},{"version":3,"sources":["equipos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkjBA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"equipos.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"about\">\r\n    <navbar />\r\n    <b-container>\r\n        <div class=\"menu\">\r\n          <h1 v-if=\"pestaa == 'editar'\">Editar Equipo</h1>\r\n          <h1 v-else-if=\"pestaa == 'enviar'\">Asignar Equipo</h1>\r\n          <h1 v-else-if=\"pestaa == 'equiposact'\">Listado de Equipos con Usuario</h1>\r\n          <h1 v-else-if=\"pestaa == 'equiposNoAct'\">Listado de Equipos sin Usuario</h1>\r\n          <h1 v-else-if=\"pestaa == 'equiposBaja'\">Listado de Equipos Dados de Baja</h1>\r\n          <h1 v-else-if=\"pestaa == 'historial'\">Historial del Equipo</h1>\r\n          <h1 v-else-if=\"pestaa == 'word'\">Exportar a Documanto Word</h1>\r\n          <b-alert\r\n            :show=\"dismissCountDown\"\r\n            dismissible\r\n            :variant=\"mensaje.color\"\r\n            @dismissed=\"dismissCountDown=0\"\r\n            @dismiss-count-down=\"countDownChanged\"\r\n          >\r\n            {{mensaje.texto}}\r\n          </b-alert>  \r\n            <br>\r\n            <b-row v-if=\"botones === 'si'\">\r\n              <b-col cols=\"12\" md=\"4\">\r\n                <div class=\"mb-1\">\r\n                  <b-button @click=\"MostrarEquiposAct()\" class=\"btn-success boton\">Equipos con Usuario</b-button>\r\n                </div>\r\n              </b-col>\r\n              <b-col cols=\"12\" md=\"4\">\r\n                <div class=\"mb-1\">\r\n                  <b-button @click=\"EquiposBuenEstado()\" class=\"btn-warning boton\">Equipos sin Usuario</b-button>\r\n                </div>\r\n              </b-col>\r\n              <b-col cols=\"12\" md=\"4\">\r\n                <div class=\"mb-1\">\r\n                  <b-button @click=\"EquiposMalEstado()\" class=\"btn-danger boton\">Equipos dados de Baja</b-button>\r\n                </div>\r\n              </b-col>\r\n            </b-row>\r\n            <!-- Tabla de equipos con dueos que estan en buen estado -->\r\n            <table class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" id=\"tablaConDueo\" v-if=\"pestaa === 'equiposact'\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\">Tipo</th>\r\n                  <th scope=\"col\">N Serie</th>\r\n                  <th scope=\"col\">Codigo</th>\r\n                  <th scope=\"col\">Estado</th>\r\n                  <th scope=\"col\">Jardin</th>\r\n                  <th scope=\"col\">Usuario</th>\r\n                  <th scope=\"col\">Zona Equipo</th>\r\n                  <th scope=\"col\">Fecha Asignacin</th>\r\n                  <th scope=\"col\">Mostrar Equipo</th>\r\n                  <th scope=\"col\">Historial</th>\r\n                  <th scope=\"col\" v-if=\"activo\">Quitar Equipo</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"i in equiposAct\" :key=\"i.codHistorial\">\r\n                  <td scope=\"row\">{{i.tipoEquipo}}</td>\r\n                  <td>{{i.serie}}</td>\r\n                  <td>{{i.codEquipo}}</td>\r\n                  <td>{{i.estado}}</td>\r\n                  <td>{{i.nomJardin}}</td>\r\n                  <td>{{i.nombre}}</td>\r\n                  <td><input @change=\"CambiaZona(i.codHistorial, i.zona)\" class=\"form-control\" v-model=\"i.zona\"></td>\r\n                  <td>{{i.fechaInicio}}</td>\r\n                  <td>\r\n                    <b-button @click=\"Acteditar(i.codHistorial, true)\" class=\"btn-warning btn-sm\" style=\"border-color: white;\">Mostrar Mas</b-button>\r\n                  </td>\r\n                  <td>\r\n                    <b-button @click=\"ActHistorial(i.codHistorial, true)\" class=\"btn-sm\" style=\"border-color: white;\">Historial</b-button>\r\n                  </td>\r\n                  <td v-if=\"activo\">\r\n                    <b-button @click=\"quitar(i.codHistorial, i.estado)\" class=\"btn-danger btn-sm\" style=\"border-color: white;\">Quitar</b-button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <br v-if=\"pestaa === 'equiposact'\"><div class=\"mb-1\">\r\n              <b-button @click=\"exportar(1)\" v-if=\"pestaa === 'equiposact'\" class=\"btn-success boton\">Exportar</b-button>\r\n            </div>\r\n            <!-- Tabla de equipos sin dueos que estan en buen estado -->\r\n            <table class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" id=\"tablaSinDueo\" v-if=\"pestaa === 'equiposNoAct'\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\">Equipo</th>\r\n                  <th scope=\"col\">Tipo</th>\r\n                  <th scope=\"col\">N Serie</th>\r\n                  <th scope=\"col\">Codigo</th>\r\n                  <th scope=\"col\">Marca</th>\r\n                  <th scope=\"col\">Modelo</th>\r\n                  <th scope=\"col\">Enviar Equipo</th>\r\n                  <th scope=\"col\">Historial</th>\r\n                  <th scope=\"col\">Mostrar Equipo</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"i in equiposBuenEstado\" :key=\"i.corrEquipo\">\r\n                  <td scope=\"row\">{{i.corrEquipo}}</td>\r\n                  <td>{{i.tipoEquipo}}</td>\r\n                  <td>{{i.serie}}</td>\r\n                  <td>{{i.codEquipo}}</td>\r\n                  <td>{{i.nomMarca}}</td>\r\n                  <td>{{i.modelo}}</td>\r\n                  <td>\r\n                    <b-button @click=\"Enviar(i.corrEquipo)\" class=\"btn-success btn-sm\" style=\"border-color: white;\">Asignar Equipo</b-button>\r\n                  </td>\r\n                  <td>\r\n                    <b-button @click=\"ActHistorial(i.corrEquipo, false)\" class=\"btn-sm\" style=\"border-color: white;\">Historial</b-button>\r\n                  </td>\r\n                  <td>\r\n                    <b-button @click=\"Acteditar(i.corrEquipo, false)\" class=\"btn-warning btn-sm\" style=\"border-color: white;\">Mostrar Mas</b-button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <br v-if=\"pestaa === 'equiposNoAct'\"><div class=\"mb-1\">\r\n              <b-button @click=\"exportar(2)\" v-if=\"pestaa === 'equiposNoAct'\" class=\"btn-success boton\">Exportar</b-button>\r\n            </div>\r\n            <!-- Tabla de equipos sin dueos que estan en MAL estado -->\r\n            <table class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" id=\"tablaBajas\" v-if=\"pestaa === 'equiposBaja'\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\">Equipo</th>\r\n                  <th scope=\"col\">Tipo</th>\r\n                  <th scope=\"col\">N Serie</th>\r\n                  <th scope=\"col\">Codigo</th>\r\n                  <th scope=\"col\">Marca</th>\r\n                  <th scope=\"col\">Modelo</th>\r\n                  <th scope=\"col\">Mostrar Equipo</th>\r\n                  <th scope=\"col\">Historial</th>\r\n                  <th scope=\"col\">Informe</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"i in equiposMalEstado\" :key=\"i.corrEquipo\">\r\n                  <td scope=\"row\">{{i.corrEquipo}}</td>\r\n                  <td>{{i.tipoEquipo}}</td>\r\n                  <td>{{i.serie}}</td>\r\n                  <td>{{i.codEquipo}}</td>\r\n                  <td>{{i.nomMarca}}</td>\r\n                  <td>{{i.modelo}}</td>\r\n                  <td>\r\n                    <b-button @click=\"Acteditar(i.corrEquipo, false)\" class=\"btn-warning btn-sm\" style=\"border-color: white;\">Mostrar Mas</b-button>\r\n                  </td>\r\n                  <td>\r\n                    <b-button @click=\"ActHistorial(i.corrEquipo, false)\" class=\"btn-sm\" style=\"border-color: white;\">Historial</b-button>\r\n                  </td>\r\n                  <td>\r\n                    <b-button @click=\"Export2Doc(i.codEquipo, i.modelo, i.tipoEquipo)\" class=\"btn-success btn-sm\" style=\"border-color: white;\">Exportar</b-button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <br v-if=\"pestaa === 'equiposBaja'\"><div class=\"mb-1\">\r\n              <b-button @click=\"exportar(3)\" v-if=\"pestaa === 'equiposBaja'\" class=\"btn-success boton\">Exportar</b-button>\r\n            </div>\r\n            <!-- Editar un Equipo -->\r\n              <div class=\"card\" v-if=\"pestaa === 'editar'\" style=\"border-color: black;\">\r\n                <div class=\"card-body\">\r\n                 <b-row>\r\n                  <b-col cols=\"12\" md=\"4\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Codigo equipo</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"codEquipoEdita\" aria-describedby=\"emailHelp\" v-model=\"$v.codigo.$model\">\r\n                      <p class=\"text-danger\" v-if=\"$v.codigo.$error\">Es necesario ingresar un codigo</p>\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"4\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Modelo equipo</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"modeloEdita\" aria-describedby=\"emailHelp\" v-model=\"$v.modelo.$model\">\r\n                      <p class=\"text-danger\" v-if=\"$v.modelo.$error\">Es necesario ingresar un modelo</p>\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"4\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Tipo de equipo</label> \r\n                      <label @click=\"CambioTipo()\" for=\"exampleInputEmail1\" v-if=\"tipoMostrar === 'si'\" style=\"color: #35ACF1;\" class=\"form-label\">&nbsp; (Crear Nuevo Tipo?)</label>\r\n                      <label @click=\"CambioTipo()\" for=\"exampleInputEmail1\" v-if=\"tipoMostrar === 'no'\" style=\"color: #35ACF1;\" class=\"form-label\">&nbsp; (Revisar ya existentes)</label>\r\n                      <select @change=\"actCodTipo()\" class=\"form-control\" v-model=\"$v.tipo.$model\" v-if=\"tipoMostrar === 'si'\">\r\n                        <option v-for=\"i in tipos\" :key=\"i.tipoEquipo\">{{i.tipoEquipo}}</option>\r\n                      </select>\r\n                      <input type=\"text\" class=\"form-control\" id=\"tiponewEdita\" aria-describedby=\"emailHelp\" v-if=\"tipoMostrar === 'no'\" v-model=\"$v.tipoNew.$model\">\r\n                      <div v-if=\"tipoMostrar === 'no'\">\r\n                        <p class=\"text-danger\" v-if=\"$v.tipoNew.$error\">Es necesario ingresar el nombre del tipo</p>\r\n                      </div>\r\n                    </div>\r\n                  </b-col>\r\n                </b-row>\r\n                <b-row>\r\n                  <b-col cols=\"12\" md=\"6\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">N Serie Equipo</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"serieEdita\" aria-describedby=\"emailHelp\" v-model=\"$v.serie.$model\">\r\n                      <p class=\"text-danger\" v-if=\"$v.serie.$error\">Es necesario ingresar un nmero de serie</p>\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"6\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Marca equipo</label>\r\n                      <label @click=\"CambioTipo()\" for=\"exampleInputEmail1\" v-if=\"tipoMostrar === 'si'\" style=\"color: #35ACF1;\" class=\"form-label\">&nbsp; (Crear Nueva Marca?)</label>\r\n                      <label @click=\"CambioTipo()\" for=\"exampleInputEmail1\" v-if=\"tipoMostrar === 'no'\" style=\"color: #35ACF1;\" class=\"form-label\">&nbsp; (Revisar ya existentes)</label>\r\n                      <select class=\"form-control\" v-model=\"$v.marca.$model\"  v-if=\"tipoMostrar === 'si'\">\r\n                        <option v-for=\"i in marcas\" :key=\"i.nomMarca\">{{i.nomMarca}}</option>\r\n                      </select>\r\n                      <input type=\"text\" class=\"form-control\" id=\"marcanewEdita\" aria-describedby=\"emailHelp\" v-if=\"tipoMostrar === 'no'\" v-model=\"$v.marcaNew.$model\">\r\n                      <div v-if=\"tipoMostrar === 'no'\">\r\n                        <p class=\"text-danger\" v-if=\"$v.marcaNew.$error\" >Es necesario ingresar el nombre de la marca</p>\r\n                      </div>\r\n                    </div>\r\n                  </b-col>\r\n                </b-row>\r\n                <b-row>\r\n                  <b-col cols=\"12\" md=\"6\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Estado de Equipo</label>\r\n                      <select class=\"form-control\" v-model=\"$v.estado.$model\">\r\n                        <option disabled value=\"\">Seleccione un estado posible</option>\r\n                        <option>Bueno</option>\r\n                        <option>Regular</option>\r\n                        <option>Malo</option>\r\n                        <option>Baja</option>\r\n                      </select>\r\n                      <p class=\"text-danger\" v-if=\"$v.estado.$error\">Es necesario indicar el estado del equipo</p>\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"6\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Condicion Equipo</label>\r\n                      <textarea type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"$v.condicion.$model\"></textarea>\r\n                    </div>\r\n                  </b-col>\r\n                </b-row>\r\n                <b-row v-if=\"(codTipo > 0 && codTipo < 6) || (codTipo > 6 && codTipo < 14) || (codTipo > 15 && codTipo < 18) || (codTipo == 21) || (codTipo > 24 && codTipo < 28)\">\r\n                  <b-col cols=\"12\" md=\"6\" v-if=\"codTipo == 2 || (codTipo > 9 && codTipo < 13) || codTipo == 17 || codTipo == 21\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Memoria RAM Gb</label>\r\n                      <input @change=\"controlInputs()\" type=\"number\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"ram\">\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"6\" v-if=\"codTipo == 25\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">VA(VOLT AMPERES)</label>\r\n                      <input type=\"number\" @change=\"controlInputs()\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"va\">\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"6\" v-if=\"codTipo == 13\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Lumenes Proyector</label>\r\n                      <input type=\"number\" @change=\"controlInputs()\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"lumenes\">\r\n                    </div>\r\n                  </b-col>\r\n                  \r\n                  <b-col cols=\"12\" md=\"6\" v-if=\"codTipo == 4 || codTipo == 7 || codTipo == 16\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">IMEI del Equipo</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"imei\">\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"6\" v-if=\"codTipo == 1 || codTipo == 3\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">MAC del Equipo</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"mac\">\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"6\" v-if=\"codTipo == 4 || codTipo == 7 || codTipo == 16\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Compaia del Equipo</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"compaia\">\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"6\" v-if=\"codTipo == 2 || (codTipo > 9 && codTipo < 13) || codTipo == 17 || codTipo == 21\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Procesador del Equipo</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"procesador\">\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"6\" v-if=\"codTipo == 5 || codTipo == 9 || codTipo == 21\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Capacidad Equipo</label>\r\n                      <input type=\"number\" @change=\"controlInputs()\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"capacidad\">\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"6\" v-if=\"codTipo == 2 || (codTipo > 9 && codTipo < 13) || codTipo == 17\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Disco Duro del Equipo</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"disco\">\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"6\" v-if=\"codTipo == 3 || codTipo == 2 || codTipo == 8 || (codTipo > 9 && codTipo < 13) || codTipo == 17 || codTipo == 21 || codTipo == 27\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Pulgadas Equipo</label>\r\n                      <input type=\"number\" @change=\"controlInputs()\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"pulgadas\">\r\n                    </div>\r\n                  </b-col>\r\n                </b-row>\r\n                <b-row v-if=\"tipoMostrar === 'si'\">\r\n                  <b-col cols=\"12\" md=\"6\">\r\n                    <div class=\"mb-3\">\r\n                      <b-button @click=\"EditarEquipo()\" class=\"btn-success botonmostrar boton\">Editar Equipo</b-button>\r\n                    </div>\r\n                  </b-col>  \r\n                  <b-col cols=\"12\" md=\"6\">\r\n                    <div class=\"mb-3\">\r\n                      <b-button @click=\"Volver()\" class=\"botonmostrar boton\">Volver</b-button>\r\n                    </div>\r\n                  </b-col>  \r\n                </b-row>\r\n                <b-row v-if=\"tipoMostrar === 'no'\">\r\n                  <b-col cols=\"12\" md=\"4\">\r\n                    <div class=\"mb-3\">\r\n                      <b-button @click=\"agregaTipo()\" class=\"btn-success botonmostrar boton\">Agregar Tipo</b-button>\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"4\">\r\n                    <div class=\"mb-3\">\r\n                      <b-button @click=\"agregaMarca()\" class=\"btn-success botonmostrar boton\">Agregar Marca</b-button>\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"4\">\r\n                    <div class=\"mb-3\">\r\n                      <b-button @click=\"Volver()\" class=\"botonmostrar boton\">Volver</b-button>\r\n                    </div>\r\n                  </b-col>  \r\n                </b-row>\r\n              </div>\r\n            </div>\r\n            <!-- Enviar un Equipo -->\r\n            <div class=\"card\" v-if=\"pestaa === 'enviar'\" style=\"border-color: black;\">\r\n                <div class=\"card-body\">\r\n                 <b-row>\r\n                  <b-col cols=\"12\" md=\"2\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Numero Equipo</label>\r\n                      <input disabled type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"$v.numero.$model\">\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"2\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Zona del equipo</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"$v.zona.$model\">\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"3\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Nombre del Jardin</label>\r\n                      <select class=\"form-control\" @change=\"cambiaJardin()\" v-model=\"$v.nombre.$model\" id=\"nomJardin\">\r\n                        <option v-for=\"i in nombres\" :key=\"i.codJardin\" :value=\"i.nomJardin\">{{i.nomJardin}}</option>\r\n                      </select>\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"2\">\r\n                    <label for=\"exampleInputEmail1\" class=\"form-label\">Codigo Jardn</label>\r\n                    <input disabled type=\"text\" class=\"form-control\" id=\"nomFuncionarioAgrega\" aria-describedby=\"emailHelp\" v-model=\"codigoJardin\">\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"3\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Dueo del equipo</label>\r\n                      <select class=\"form-control\" v-model=\"$v.dueo.$model\">\r\n                        <option v-for=\"i in dueosJardinLista\" :key=\"i.nombre\" :value=\"i.nombre\">{{i.nombre}}</option>\r\n                      </select>\r\n                    </div>\r\n                  </b-col>\r\n                </b-row>\r\n                <b-row>\r\n                  <b-col cols=\"12\" md=\"6\">\r\n                    <div class=\"mb-3\">\r\n                      <b-button @click=\"Volver()\" href=\"#\" class=\"botonmostrar boton\">Volver al listado</b-button>\r\n                    </div>\r\n                  </b-col>  \r\n                  <b-col cols=\"12\" md=\"6\">\r\n                    <div class=\"mb-3\">\r\n                      <b-button @click=\"EnviarEquipo()\" class=\"btn-success botonmostrar boton\">Enviar Equipo</b-button>\r\n                    </div>\r\n                  </b-col>  \r\n                </b-row>\r\n              </div>\r\n            </div>\r\n            <!-- Historial de un Equipo -->\r\n            <div class=\"row\">\r\n              <b-button @click=\"Volver()\" class=\"botonAgregar\" v-if=\"pestaa === 'historial'\" style=\"border-color: black;\">Volver al listado de Equipos</b-button>\r\n            </div>  <br v-if=\"pestaa === 'historial'\">\r\n            <div class=\"row\">\r\n                <table class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" id=\"historialEquipo\" v-if=\"pestaa === 'historial'\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">Id</th>\r\n                      <th scope=\"col\">Codigo Equipo</th>\r\n                      <th scope=\"col\">Zona</th>\r\n                      <th scope=\"col\">Jardin</th>\r\n                      <th scope=\"col\">Usuario</th>\r\n                      <th scope=\"col\">Desde</th>\r\n                      <th scope=\"col\">Hasta</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"i in historial\" :key=\"i.codHistorial\">\r\n                      <td scope=\"row\">{{i.codHistorial}}</td>\r\n                      <td>{{i.codEquipo}}</td>\r\n                      <td>{{i.zona}}</td>\r\n                      <td>{{i.nomJardin}}</td>\r\n                      <td>{{i.nombre}}</td>\r\n                      <td>{{i.fechaInicio}}</td>\r\n                      <td>{{i.fecha}}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <br><div class=\"mb-1\">\r\n                  <b-button @click=\"exportar(4)\" v-if=\"pestaa === 'historial'\" class=\"btn-success boton\">Exportar</b-button>\r\n                </div>\r\n            </div>\r\n            <!-- Vista de Exportacin -->\r\n            <div class=\"card\" style=\"border-color: black;\" v-if=\"pestaa === 'word'\">\r\n                <div class=\"card-body\">\r\n                  <b-row>\r\n                    <b-col cols=\"12\" md=\"4\">\r\n                      <div class=\"mb-3\">\r\n                        <label for=\"exampleInputEmail1\" class=\"form-label\">Redactado por</label>\r\n                        <select class=\"form-control\" v-model=\"$v.redactado.$model\">\r\n                          <option v-for=\"i in dueos\" :key=\"i.nombre\" :value=\"i.nombre\">{{i.nombre}}</option>\r\n                        </select>\r\n                      </div>\r\n                    </b-col>\r\n                    <b-col cols=\"12\" md=\"4\">\r\n                      <div class=\"mb-3\">\r\n                        <label for=\"exampleInputEmail1\" class=\"form-label\">Revisado por</label>\r\n                        <select class=\"form-control\" v-model=\"$v.revisado.$model\">\r\n                          <option v-for=\"i in dueos\" :key=\"i.nombre\" :value=\"i.nombre\">{{i.nombre}}</option>\r\n                        </select>\r\n                      </div>\r\n                    </b-col>\r\n                    <b-col cols=\"12\" md=\"4\">\r\n                      <div class=\"mb-3\">\r\n                        <label for=\"exampleInputEmail1\" class=\"form-label\">Aprobado por</label>\r\n                        <select class=\"form-control\" v-model=\"$v.aprobado.$model\">\r\n                          <option v-for=\"i in dueos\" :key=\"i.nombre\" :value=\"i.nombre\">{{i.nombre}}</option>\r\n                        </select>\r\n                      </div>\r\n                    </b-col>\r\n                 </b-row>\r\n                 <b-row>\r\n                  <b-col cols=\"12\" md=\"6\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Tipo del equipo</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"$v.tipoExportar.$model\">\r\n                      <p class=\"text-danger\" v-if=\"$v.tipoExportar.$error\" >Es necesario ingresar el tipo del equipo</p>\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"6\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Clasificacin</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"$v.clasificacionExportar.$model\">\r\n                      <p class=\"text-danger\" v-if=\"$v.clasificacionExportar.$error\" >Es necesario ingresar la clasificacin del equipo</p>\r\n                    </div>\r\n                  </b-col>\r\n                 </b-row>\r\n                 <b-row>\r\n                  <b-col cols=\"12\" md=\"6\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Ubicacin del Equipo</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"$v.ubicacionExportar.$model\">\r\n                      <p class=\"text-danger\" v-if=\"$v.ubicacionExportar.$error\" >Es necesario ingresar la ubicacin del equipo</p>\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"6\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Encargado del Informe</label>\r\n                      <select class=\"form-control\" v-model=\"$v.duenoExportar.$model\">\r\n                        <option v-for=\"i in dueos\" :key=\"i.nombre\" :value=\"i.nombre\">{{i.nombre}}</option>\r\n                      </select>\r\n                    </div>\r\n                  </b-col>\r\n                </b-row>\r\n                <b-row>\r\n                  <b-col cols=\"12\" md=\"12\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Introduccin</label>\r\n                      <textarea type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"$v.Introduccion.$model\"></textarea>\r\n                      <p class=\"text-danger\" v-if=\"$v.Introduccion.$error\" >El mximo de caracteres para este parrafo es 1000</p>\r\n                    </div>\r\n                  </b-col>\r\n                </b-row>\r\n                <b-row>\r\n                  <b-col cols=\"12\" md=\"12\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Objetivo</label>\r\n                      <textarea type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"$v.objetivo.$model\"></textarea>\r\n                      <p class=\"text-danger\" v-if=\"$v.objetivo.$error\" >El mximo de caracteres para este parrafo es 500</p>\r\n                    </div>\r\n                  </b-col>\r\n                </b-row>\r\n                <b-row>\r\n                  <b-col cols=\"12\" md=\"12\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Deficiencias generales observadas</label>\r\n                      <textarea type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"$v.deficiencias.$model\"></textarea>\r\n                      <p class=\"text-danger\" v-if=\"$v.deficiencias.$error\" >El mximo de caracteres para este parrafo es 1000</p>\r\n                    </div>\r\n                  </b-col>\r\n                </b-row>\r\n                <b-row>\r\n                  <b-col cols=\"12\" md=\"3\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Usuario del Equipo</label>\r\n                      <select class=\"form-control\" v-model=\"$v.Usuario.$model\">\r\n                        <option v-for=\"i in dueos\" :key=\"i.nombre\" :value=\"i.nombre\">{{i.nombre}}</option>\r\n                      </select>\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"3\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Direccin del Bien</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"$v.Direccion.$model\">\r\n                      <p class=\"text-danger\" v-if=\"$v.Direccion.$error\">Es necesario indicar la direccin del usuario</p>\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"3\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Ubicacin Geogrfica / Comuna</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"$v.ubicacion.$model\">\r\n                      <p class=\"text-danger\" v-if=\"$v.ubicacion.$error\">Es necesario indicar la ubicacin geografica</p>\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"3\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Estado</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"$v.estadoExportar.$model\">\r\n                      <p class=\"text-danger\" v-if=\"$v.estadoExportar.$error\">Es necesario indicar un estado</p>\r\n                    </div>\r\n                  </b-col>\r\n                </b-row>\r\n                <b-row>\r\n                  <b-col cols=\"12\" md=\"12\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Observaciones</label>\r\n                      <textarea type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" v-model=\"$v.observaciones.$model\"></textarea>\r\n                      <p class=\"text-danger\" v-if=\"$v.observaciones.$error\" >El mximo de caracteres para este parrafo es 200</p>\r\n                    </div>\r\n                  </b-col>\r\n                </b-row>\r\n                <b-row>\r\n                  <b-col cols=\"12\" md=\"6\">\r\n                    <div class=\"mb-3\">\r\n                      <b-button @click=\"Volver()\" href=\"#\" class=\"botonmostrar boton\">Volver al listado</b-button>\r\n                    </div>\r\n                  </b-col>  \r\n                  <b-col cols=\"12\" md=\"6\">\r\n                    <div class=\"mb-3\">\r\n                      <b-button @click=\"createDoc()\" class=\"btn-success botonmostrar boton\">Generar Informe</b-button>\r\n                    </div>\r\n                    <div id=\"preview\"></div>\r\n                  </b-col>  \r\n                </b-row>\r\n              </div>\r\n            </div>\r\n        </div>\r\n    </b-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport navbar from \"../components/navbar.vue\";\r\n\r\nimport { required, maxLength} from \"vuelidate/lib/validators\";\r\nimport 'jquery/dist/jquery.min.js';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"datatables.net-dt/js/dataTables.dataTables\";\r\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\";\r\nimport $ from 'jquery'; \r\n\r\n//EXCEL eXportacin\r\nimport * as XLSX from 'xlsx/xlsx.mjs';\r\n/* load 'fs' for readFile and writeFile support */\r\nimport * as fs from 'fs';\r\nXLSX.set_fs(fs);\r\n/* load the codepage support library for extended support with older formats  */\r\nimport * as cpexcel from 'xlsx/dist/cpexcel.full.mjs';\r\nXLSX.set_cptable(cpexcel);\r\n\r\n//Importaciones para WORD\r\nimport Docxtemplater from \"docxtemplater\";\r\nimport PizZip from \"pizzip\";\r\nimport PizZipUtils from \"pizzip/utils/index.js\";\r\nimport { saveAs } from \"file-saver\";\r\n\r\nfunction loadFile(url, callback) {\r\n    PizZipUtils.getBinaryContent(url, callback);\r\n}\r\n\r\nimport { mapState } from 'vuex'\r\nimport { isNull } from 'util';\r\n\r\nexport default {\r\n  name: \"about\",\r\n  components: {\r\n    navbar,\r\n  },\r\n  data() {\r\n      return {\r\n        //Listas utilizadas para el manejo de tablas\r\n        equiposAct: [],\r\n        equiposBuenEstado: [],\r\n        equiposMalEstado: [],\r\n        historial: [],\r\n        //Pestaa que indica la vista actual\r\n        pestaa: 'equiposact',\r\n        tipoMostrar: 'si',\r\n        botones: 'si',\r\n        selected: '',\r\n        //Datos de editar\r\n        corrEqp: 0,\r\n        corr: '',\r\n        codigo: '',\r\n        modelo: '',\r\n        tipo: '',\r\n        tipos: [],\r\n        tipoNew: '',\r\n        serie: '',\r\n        marca: '',\r\n        marcaNew: '',\r\n        marcas: [],\r\n        estado: '',\r\n        condicion: '',\r\n        //CARACTERISTICAS ESPECIFICAS\r\n        codTipo: 0,\r\n        codOriginal: 0,\r\n        mac: '',\r\n        ram: 0,\r\n        pulgadas: 0,\r\n        imei: '',\r\n        capacidad: 0,\r\n        lumenes: 0,\r\n        va: 0,\r\n        procesador: '',\r\n        compaia: '',\r\n        disco: '',\r\n        //Enviar\r\n        numero: '',\r\n        zona: '',\r\n        nombre: '',\r\n        codigoJardin: '',\r\n        dueo: '',\r\n        //Arreglo para aadir los datos a los select\r\n        nombres: [],\r\n        dueosJardinLista: [],\r\n        //Variables de las alertas\r\n        dismissSecs: 5,\r\n        dismissCountDown: 0,\r\n        mensaje: {color: '', texto: ''},\r\n        activo: true,\r\n        //VARIABLES DE EXPORTACION\r\n        dueos: [],\r\n        tipoExportar: '',\r\n        clasificacionExportar: '',\r\n        ubicacionExportar: '',\r\n        duenoExportar: '',\r\n        Introduccion: '',\r\n        objetivo: '',\r\n        deficiencias: '',\r\n        Usuario: '',\r\n        Direccion: '',\r\n        nomEquipoExportar: '',\r\n        codEquipoExportar: '',\r\n        redactado: '',\r\n        revisado: '',\r\n        aprobado: '',\r\n        observaciones: '',\r\n        estadoExportar: '',\r\n        ubicacion: ''\r\n      }\r\n    },\r\n    validations:{\r\n      //Validaciones de los input\r\n      codigo:{required},\r\n      modelo:{required},\r\n      tipo:{required},\r\n      tipoNew:{required},\r\n      serie:{required},\r\n      marca:{required},\r\n      marcaNew:{required},\r\n      estado:{required},\r\n      condicion:{required},\r\n      numero:{required},\r\n      zona:{required},\r\n      nombre:{required},\r\n      dueo:{required},\r\n      tipoExportar: {required},\r\n      clasificacionExportar: {required},\r\n      ubicacionExportar: {required},\r\n      duenoExportar: {required},\r\n      Introduccion: {required, maxLength: maxLength(1000)},\r\n      objetivo: {required, maxLength: maxLength(500)},\r\n      deficiencias: {required, maxLength: maxLength(1000)},\r\n      Usuario: {required},\r\n      Direccion: {required},\r\n      nomEquipoExportar: {required},\r\n      codEquipoExportar: {required},\r\n      redactado: {required},\r\n      revisado: {required},\r\n      aprobado: {required},\r\n      observaciones: {required, maxLength: maxLength(200)},\r\n      estadoExportar: {required},\r\n      ubicacion: {required}\r\n    },\r\n    computed: {\r\n      ...mapState(['token', 'usuarioDB'])\r\n    },\r\n    created(){\r\n      //Iniciamos las funciones que se encargan de cargar los datos apenas se inicie la ruta\r\n      this.listarEquiposAct();\r\n      this.nombresJardin();\r\n      this.listarDueos();\r\n      this.obtenerTipos();\r\n      this.obtenerMarcas();\r\n      this.verificar();\r\n    },\r\n    methods: {\r\n      //Controlador de inputs numericos\r\n      controlInputs(){\r\n        if(this.ram < 0){\r\n          this.ram = 0;\r\n        }\r\n        if(this.pulgadas < 0){\r\n          this.pulgadas = 0\r\n        }\r\n        if(this.capacidad < 0){\r\n          this.capacidad = 0\r\n        }\r\n        if(this.lumenes < 0){\r\n          this.lumenes = 0;\r\n        }\r\n        if(this.va < 0){\r\n          this.va = 0;\r\n        }\r\n      },\r\n      //Funcin que permite exportar las tablas a un excel \r\n      exportar(num) {\r\n        let data = [];\r\n        var filename = \"planilla\";\r\n        if(num === 1){\r\n          var arreglado = this.equiposAct.map( item => { \r\n            return { ID: item.codHistorial , Tipo : item.tipoEquipo, Serie : item.serie, Estado : item.estado, CodigoEquipo : item.codEquipo,  Dependencia : item.nomJardin, CodigoDependencia : item.codJardin, Usuario : item.nombre, Zona : item.zona}; \r\n          });\r\n          data = XLSX.utils.json_to_sheet(arreglado);\r\n          filename = 'Equipos con Usuario'\r\n        }else if(num === 2){\r\n          var arreglado = this.equiposBuenEstado.map( item => { \r\n            return { ID: item.corrEquipo , Tipo : item.tipoEquipo, Serie : item.serie, CodigoEquipo : item.codEquipo,  Marca : item.nomMarca, Modelo : item.modelo}; \r\n          });\r\n          data = XLSX.utils.json_to_sheet(arreglado);\r\n          filename = 'Equipos sin Usuario'\r\n        }else if(num === 3){\r\n          var arreglado = this.equiposMalEstado.map( item => { \r\n            return { ID: item.corrEquipo , Tipo : item.tipoEquipo, Serie : item.serie, CodigoEquipo : item.codEquipo,  Marca : item.nomMarca, Modelo : item.modelo}; \r\n          });\r\n          data = XLSX.utils.json_to_sheet(arreglado);\r\n          filename = 'Equipos dados de Baja'\r\n        }else if(num === 4){\r\n          var arreglado = this.historial.map( item => { \r\n            return { ID: item.codHistorial , Codigo : item.codEquipo, Zona : item.zona, Dependencia : item.nomJardin,  Usuario : item.nombre, Desde : item.fechaInicio, Hasta : item.fecha}; \r\n          });\r\n          data = XLSX.utils.json_to_sheet(arreglado);\r\n          if(arreglado[0]){\r\n            filename = 'Historial Equipo ' + arreglado[0].Codigo\r\n          }else{\r\n            filename = 'Historial Equipo'\r\n          }\r\n        }\r\n        const workbook = XLSX.utils.book_new();\r\n        XLSX.utils.book_append_sheet(workbook, data, filename);\r\n        XLSX.writeFile(workbook, `${filename}.xlsx`);\r\n      },\r\n      alerta(color, texto){\r\n        this.mensaje.color = color;\r\n        this.mensaje.texto = texto;\r\n        this.showAlert();\r\n      },\r\n      //Funcin que verifica el tipo de usuario (Administrador / Normal)\r\n      verificar(){\r\n        if(this.usuarioDB.data[0].tipoUsuario == 0){\r\n          this.activo = false;\r\n        }\r\n      },\r\n      //Al momento de cargar la tabla y modificar la zona se guarda en la base de datos\r\n      CambiaZona(id, zona){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.axios.put(`api/actualizaZona/${id}`, {zona: zona}, config)\r\n          .then(res => {\r\n            this.alerta('success', 'Zona modificada correctamente')\r\n          })\r\n          .catch(e => {\r\n            var mensaje = 'Posible error del sistema';\r\n            if(e.response.data.mensaje){\r\n              mensaje = e.response.data.mensaje;\r\n            }\r\n            this.alerta('danger', 'La zona no se ha logrado modificar en el sistema')\r\n          })\r\n      },\r\n      //Activamos la vista de editar\r\n      Acteditar(id, activo){\r\n        this.pestaa = 'editar'\r\n        this.botones = 'no'\r\n        $('#tablaSinDueo').DataTable().destroy();\r\n        $('#tablaBajas').DataTable().destroy();\r\n        $('#tablaConDueo').DataTable().destroy();\r\n        //Obtenemos el correlativo del equipo, si estamos en la vista de Equipos con dueo (activo=true) tendremos que buscarlo en el arreglo paralelo por la posicin\r\n        if(activo){\r\n          const index = this.equiposAct.findIndex(item => item.codHistorial == id);\r\n          this.corrEqp = this.equiposAct[index].corrEquipo\r\n        }else{\r\n          this.corrEqp = id;\r\n        }\r\n        //Llamamos a la funcin que nos permite cargar los datos del equipo a editar\r\n        this.obtenerEqpEditar(this.corrEqp)\r\n      },\r\n      //Activamos la vista de historial\r\n      ActHistorial(id, activo){\r\n        this.pestaa = 'historial'\r\n        this.botones = 'no'\r\n        $('#tablaSinDueo').DataTable().destroy();\r\n        $('#tablaBajas').DataTable().destroy();\r\n        $('#tablaConDueo').DataTable().destroy();\r\n        $(\"#historialEquipo\").DataTable()\r\n        //Obtenemos el correlativo del equipo, si estamos en la vista de Equipos con dueo (activo=true) tendremos que buscarlo en el arreglo paralelo por la posicin\r\n        if(activo){\r\n          const index = this.equiposAct.findIndex(item => item.codHistorial == id);\r\n          this.corr = this.equiposAct[index].corrEquipo\r\n        }else{\r\n          this.corr = id;\r\n        }\r\n        //Llamamos a la funcin que nos permite cargar los datos del equipo a editar\r\n        this.obtHistorial()\r\n      },\r\n\r\n      //Funcin que permite cargar el historial de un equipo\r\n      obtHistorial(){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.axios.get(`api/HistEquipo/${this.corr}`, config)\r\n          .then(res => {\r\n            this.historial = res.data;\r\n          })\r\n          .catch(e => {\r\n            this.alerta('danger', 'No se ha podido cargar el historial');\r\n        })\r\n      },\r\n      //Al cambiar un tipo se actualiza su codigo\r\n      actCodTipo(){\r\n        const index = this.tipos.findIndex(item => item.tipoEquipo == this.tipo);\r\n        this.codTipo = this.tipos[index].codTipo\r\n        if(this.codOriginal === this.codTipo){\r\n          this.obtenerEqpEditar(this.corrEqp)\r\n        }else{\r\n          this.mac = ''\r\n          this.ram = 0\r\n          this.pulgadas = 0\r\n          this.imei = ''\r\n          this.capacidad = 0\r\n          this.lumenes = 0\r\n          this.va = 0\r\n          this.procesador = ''\r\n          this.compaia = ''\r\n          this.disco = ''\r\n        }\r\n      },\r\n      //Funcin que obtiene todos los tipos\r\n      obtenerTipos(){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.axios.get('api/tipos', config)\r\n          .then(res => {\r\n            this.tipos = res.data;\r\n          })\r\n          .catch(e => {\r\n            this.alerta('danger', 'No se han podido cargar los tipos');\r\n        })\r\n      },\r\n      //Funcin que obtiene todos las marcas\r\n      obtenerMarcas(){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.axios.get('api/marcas', config)\r\n          .then(res => {\r\n            this.marcas = res.data;\r\n          })\r\n          .catch(e => {\r\n            this.alerta('danger', 'No se han podido cargar las marcas');\r\n        })\r\n      },\r\n      //Funcion que obtiene los datos del equipo a editar\r\n      obtenerEqpEditar(id){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.axios.get(`api/datosEqp/${id}`, config)\r\n          .then(res => {\r\n            this.corr = res.data[0].corrEquipo;\r\n            this.codigo = res.data[0].codEquipo;\r\n            this.modelo = res.data[0].modelo;\r\n            this.tipo = res.data[0].tipoEquipo;\r\n            this.codTipo = res.data[0].codTipo;\r\n            this.codOriginal = res.data[0].codTipo;\r\n            this.serie = res.data[0].serie;\r\n            this.marca = res.data[0].nomMarca;\r\n            this.estado = res.data[0].estado;\r\n            this.condicion = res.data[0].condicion;\r\n            this.mac = res.data[0].MAC;\r\n            this.ram = res.data[0].RAM;\r\n            this.pulgadas = res.data[0].pulgadas;\r\n            this.imei = res.data[0].IMEI;\r\n            this.capacidad = res.data[0].capacidad;\r\n            this.lumenes = res.data[0].lumenes;\r\n            this.va = res.data[0].VA;\r\n            this.procesador = res.data[0].procesador;\r\n            this.compaia = res.data[0].compaia;\r\n            this.disco = res.data[0].discoDuro;\r\n          })\r\n          .catch(e => {\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Oops...',\r\n              text: 'No se ha podido ingresar a los datos de este equipo',\r\n              footer: 'Posible error del sistema'\r\n            })\r\n            this.botones = 'si';\r\n            this.pestaa = 'equiposact';\r\n          })\r\n      },\r\n      convertDateMysql(yourDate){\r\n        yourDate.toISOString().split('T')[0]\r\n        const offset = yourDate.getTimezoneOffset()\r\n        yourDate = new Date(yourDate.getTime() - (offset*60*1000))\r\n        return yourDate.toISOString().split('T')[0]\r\n\t\t  },\r\n      //Funcion que quita un equipo a un funcionario\r\n      quitar(id, estado){ \r\n        var dt = this.convertDateMysql(new Date())\r\n        swal.fire({\r\n            title: 'Seguro que desea quitar el equipo?',\r\n            type: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            cancelButtonText: 'Cancelar',\r\n            confirmButtonText: 'Si!'\r\n        }).then((result) => {\r\n          if (result.value) {\r\n            let config = {\r\n              headers: {\r\n                token: this.token\r\n              }\r\n            }\r\n            this.axios.put(`api/actualizaHistorial/${id}`, {fecha: dt}, config)\r\n              .then(res => {\r\n                const index = this.equiposAct.findIndex(item => item.codHistorial == res.data);\r\n                this.equiposAct.splice(index, 1)\r\n                Swal.fire(\r\n                  'Se ha quitado un equipo al funcionario!',\r\n                  'Seleccione Ok para continuar',\r\n                  'success'\r\n                )\r\n              })\r\n              .catch(e => {\r\n                var mensaje = 'Posible error del sistema';\r\n                if(e.response.data.mensaje){\r\n                  mensaje = e.response.data.mensaje;\r\n                }\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Oops...',\r\n                  text: 'No se ha podido quitar el equipo a su funcionario',\r\n                  footer: mensaje\r\n                })\r\n              })\r\n          }\r\n        });\r\n      },\r\n      //Muestra la vista de los equipos con un dueo actual\r\n      MostrarEquiposAct(){\r\n        $('#tablaSinDueo').DataTable().destroy();\r\n        $('#tablaBajas').DataTable().destroy();\r\n        $('#tablaConDueo').DataTable();\r\n        this.pestaa = 'equiposact'\r\n        this.listarEquiposAct();\r\n      },\r\n      //Ingresa los datos al arreglo que utilizara la tabla de Equipo con dueos\r\n      listarEquiposAct(){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.axios.get('api/equiposConDueno', config)\r\n          .then(res => {\r\n            this.equiposAct = res.data;\r\n          })\r\n          .catch(e => {\r\n            this.alerta('danger', 'No se han podido cargar los equipos con Dueo');\r\n          })\r\n      },\r\n      //Define la vista de Equipos sin un dueo actual\r\n      EquiposBuenEstado(){\r\n        $('#tablaConDueo').DataTable().destroy();\r\n        $('#tablaBajas').DataTable().destroy();\r\n        $('#tablaSinDueo').DataTable();\r\n        this.pestaa = 'equiposNoAct'\r\n        this.listarEquiposBuenEstado();\r\n      },\r\n      //Ingresa los datos al arreglo que utilizara la tabla de Equipo sin dueos\r\n      listarEquiposBuenEstado(){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n         this.axios.get('api/equiposSinDueno', config)\r\n          .then(res => {\r\n            this.equiposBuenEstado = res.data;\r\n          })\r\n          .catch(e => {\r\n            this.alerta('danger', 'No se han podido cargar los equipos sin Dueo');\r\n          })\r\n      },\r\n      //Define la vista de Equipos dados de baja\r\n      EquiposMalEstado(){\r\n        $('#tablaConDueo').DataTable().destroy();\r\n        $('#tablaSinDueo').DataTable().destroy();\r\n        $('#tablaBajas').DataTable()\r\n        this.pestaa = 'equiposBaja'\r\n        this.listarEquiposMalEstado();\r\n      },\r\n      //Ingresa los datos al arreglo que utilizara la tabla de Equipo dados de baja\r\n      listarEquiposMalEstado(){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.axios.get('api/equiposBaja', config)\r\n          .then(res => {\r\n            this.equiposMalEstado = res.data;\r\n          })\r\n          .catch(e => {\r\n            this.alerta('danger', 'No se han podido cargar los equipos dados de baja');\r\n        })\r\n      },\r\n      //Funcin que agrega un nuevo Tipo y retorna true o false\r\n      agregaTipo(){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.$v.$touch()\r\n        if(!this.$v.tipoNew.$invalid){\r\n          this.axios.post('api/agregaTipo', {tipoEquipo: this.tipoNew}, config)\r\n            .then(res => {\r\n              if(!res.data.sqlMessage){\r\n                Swal.fire(\r\n                  'Se ha generado un nuevo tipo de equipo ',\r\n                  'Seleccione Ok para continuar',\r\n                  'success'\r\n                )\r\n                this.tipoMostrar = 'si';\r\n                this.obtenerTipos();\r\n              }else{\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Oops...',\r\n                  text: 'No se ha creado este nuevo tipo',\r\n                  footer: 'Nombre ya se encuentra registrado'\r\n                })\r\n              }\r\n            })\r\n            .catch(e => {\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Oops...',\r\n                text: 'No se ha creado este nuevo tipo',\r\n                footer: 'Posible error del sistema'\r\n              })\r\n            })\r\n        }else{\r\n          this.alerta('danger', 'Porfavor ingrese un nuevo tipo');\r\n        }\r\n      },\r\n      //Funcin que agrega una nueva marca\r\n      agregaMarca(){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.$v.$touch()\r\n        if(!this.$v.marcaNew.$invalid){\r\n          this.axios.post('api/agregaMarca', {nomMarca: this.marcaNew}, config)\r\n            .then(res => {\r\n              if(!res.data.sqlMessage){\r\n                Swal.fire(\r\n                  'Se ha generado una nueva marca ',\r\n                  'Seleccione Ok para continuar',\r\n                  'success'\r\n                )\r\n                this.tipoMostrar = 'si';\r\n                this.obtenerMarcas();\r\n              }else{\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Oops...',\r\n                  text: 'No se ha creado esta nueva marca',\r\n                  footer: 'Nombre ya se encuentra registrado'\r\n                })\r\n              }\r\n            })\r\n            .catch(e => {\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Oops...',\r\n                text: 'No se ha logrado crear esta nueva marca',\r\n                footer: 'Posible error del sistema'\r\n              })\r\n          })\r\n        }else{\r\n          this.alerta('danger', 'Porfavor ingrese un nombre para la marca');\r\n        }\r\n      },\r\n      //Funcin que permite transformar los datos a NULL segn el tipo de equipo al agregar uno nuevo\r\n      transformarNull(){\r\n        if(this.codTipo !== 1 && this.codTipo !== 3){\r\n          this.mac = null\r\n        }\r\n        if(this.codTipo !== 2 && this.codTipo !== 10 && this.codTipo !== 11 && this.codTipo !== 12 && this.codTipo !== 17 && this.codTipo !== 21){\r\n          this.ram = null\r\n          this.procesador = null\r\n        }\r\n        if(this.codTipo !== 2 && this.codTipo !== 10 && this.codTipo !== 11 && this.codTipo !== 12 && this.codTipo !== 17 && this.codTipo !== 21 && this.codTipo !== 3 && this.codTipo !== 8 && this.codTipo !== 27){\r\n          this.pulgadas = null\r\n        }\r\n        if(this.codTipo !== 4 && this.codTipo !== 7 && this.codTipo !== 16){\r\n          this.imei = null\r\n          this.compaia = null\r\n        }\r\n        if(this.codTipo == 5 && this.codTipo == 9 && this.codTipo == 21){\r\n          this.capacidad = null\r\n        }\r\n        if(this.codTipo !== 2 && this.codTipo !== 10 && this.codTipo !== 11 && this.codTipo !== 12 && this.codTipo !== 17){\r\n          this.disco = null\r\n        }\r\n        if(this.codTipo !== 13){\r\n          this.lumenes = null\r\n        }\r\n        if(this.codTipo !== 25){\r\n          this.va = null\r\n        }\r\n      },\r\n      //Funcin que permite editar un equipo algunos datos son requeridos se usa Vualidate ($v.) para verificar si cumplen las condiciones\r\n      EditarEquipo(){\r\n        this.transformarNull()\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.$v.$touch()\r\n        if(!this.$v.codigo.$invalid && !this.$v.modelo.$invalid && !this.$v.serie.$invalid && !this.$v.condicion.$invalid){\r\n          this.axios.put(`api/actualizaEquipo/${this.corr}`, {codEquipo: this.codigo, modelo: this.modelo, serie: this.serie, estado: this.estado, condicion: this.condicion, tipoEquipo: this.tipo, nomMarca: this.marca, va: this.va, compaia: this.compaia, pulgadas: this.pulgadas, mac: this.mac, procesador: this.procesador, ram: this.ram, discoDuro: this.disco, imei: this.imei, capacidad: this.capacidad, lumenes: this.lumenes}, config)\r\n            .then(res => {\r\n              if(!res.data.sqlMessage){\r\n                Swal.fire(\r\n                  'Se ha editado al equipo satisfactoriamente',\r\n                  'Seleccione Ok para continuar',\r\n                  'success'\r\n                )\r\n              }else{\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Oops...',\r\n                  text: 'No se ha actualizado el equipo',\r\n                  footer: 'Dato repetido asegurese de que el codigo o n de serie no existan'\r\n                })\r\n              }\r\n            })\r\n            .catch(e => {\r\n              this.alerta('danger', 'No se ha logrado editar al equipo');\r\n          })\r\n        }else{\r\n          this.alerta('danger', 'Porfavor ingrese todos los datos requeridos');\r\n        }\r\n      },\r\n      //Se reinicia la ruta para regresar a la pantalla Principal\r\n      Volver(){\r\n        $('#historialEquipo').DataTable().destroy();\r\n        $('#tablaConDueo').DataTable()\r\n        this.pestaa = 'equiposact'\r\n        this.botones = 'si'\r\n        this.equiposAct = []\r\n        this.listarEquiposAct();\r\n      },\r\n      //Determina la vista para enviar un equipo a un nuevo dueo, recibe la id del equipo en cuestion\r\n      Enviar(id){\r\n        this.pestaa = 'enviar'\r\n        this.botones = 'no'\r\n        this.numero = id\r\n        $('#tablaSinDueo').DataTable().destroy();\r\n        $('#tablaBajas').DataTable().destroy();\r\n        $('#tablaConDueo').DataTable().destroy();\r\n        this.dueosJardin();\r\n      },\r\n      //Carga todos los jardines de la base de datos\r\n      nombresJardin(){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.axios.get('api/dependencias', config)\r\n          .then(res => {\r\n            this.nombres = res.data;\r\n            this.nombre = res.data[0].nomJardin\r\n            this.codigoJardin = res.data[0].codJardin\r\n          })\r\n          .catch(e => {\r\n            this.alerta('danger', 'No se han podido cargar los nombres de los jardines');\r\n        })\r\n      },\r\n      dueosJardin(){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.axios.get(`api/funcionariosDep/${this.codigoJardin}`, config)\r\n          .then(res => {\r\n              this.dueosJardinLista = res.data;\r\n              this.dueo = res.data[0].nombre\r\n            })\r\n            .catch(e => {\r\n              this.alerta('danger', 'No se han podido cargar los funcionarios del jardn ' + this.nombre);\r\n          })\r\n      },\r\n      cambiaJardin(){\r\n        const index = this.nombres.findIndex(item => item.nomJardin == this.nombre);\r\n        this.codigoJardin = this.nombres[index].codJardin\r\n        this.dueosJardin()\r\n      },\r\n      //Carga todos los funcionarios de la base de datos\r\n      listarDueos(){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.axios.get('api/funcionarios', config)\r\n          .then(res => {\r\n            this.dueos = res.data;\r\n            this.dueo = res.data[0].nombre\r\n            this.revisado = res.data[0].nombre\r\n            this.redactado = res.data[0].nombre\r\n            this.aprobado = res.data[0].nombre\r\n            this.Usuario = res.data[0].nombre\r\n            this.duenoExportar = res.data[0].nombre\r\n          })\r\n          .catch(e => {\r\n            this.alerta('danger', 'No se han podido cargar los nombres de los Funcionarios');\r\n        })\r\n      },\r\n      //Funcin que envia un equipo con un nuevo dueo\r\n      EnviarEquipo(){\r\n        var dt = this.convertDateMysql(new Date())\r\n        swal.fire({\r\n            title: 'Seguro que desea asignar este equipo al usuario ' + this.dueo + '?',\r\n            type: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            cancelButtonText: 'Cancelar',\r\n            confirmButtonText: 'Si!'\r\n        }).then((result) => {\r\n          if (result.value) {\r\n            let config = {\r\n              headers: {\r\n                token: this.token\r\n              }\r\n            }\r\n            this.axios.post('api/agregaHistorial', {zona: this.zona, nombre: this.dueo, nomJardin: this.nombre, corrEquipo: this.numero, fechaInicio: dt}, config)\r\n              .then(res => {\r\n                Swal.fire(\r\n                  'Se ha asignado un equipo al funcionario ' + this.dueo +'!',\r\n                  'Seleccione Ok para continuar',\r\n                  'success'\r\n                )\r\n                //location.reload();\r\n              })\r\n              .catch(e => {\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Oops...',\r\n                  text: 'No se ha podido enviar el equipo',\r\n                  footer: 'Posible error del sistema'\r\n                })\r\n              })\r\n            }\r\n          })\r\n      },\r\n      countDownChanged(dismissCountDown) {\r\n        this.dismissCountDown = dismissCountDown\r\n      },\r\n      showAlert() {\r\n        this.dismissCountDown = this.dismissSecs\r\n      },\r\n      //Funcion que cambiara entre un tipo existente y uno nuevo\r\n      CambioTipo(){\r\n        if(this.tipoMostrar === 'no'){\r\n          this.tipoMostrar = 'si'\r\n        }else{\r\n          this.tipoMostrar = 'no'\r\n        }\r\n      },\r\n      Export2Doc(codigoEquipo, modelo, tipo){\r\n        this.pestaa = 'word'\r\n        this.botones = 'no'\r\n        $('#tablaSinDueo').DataTable().destroy();\r\n        $('#tablaBajas').DataTable().destroy();\r\n        $('#tablaConDueo').DataTable().destroy();\r\n        console.log(codigoEquipo)\r\n        this.codEquipoExportar = codigoEquipo\r\n        this.nomEquipoExportar = modelo\r\n        this.tipoExportar = tipo\r\n      },\r\n      createDoc() {\r\n        this.$v.$touch()\r\n        if(!this.$v.tipoExportar.$invalid && !this.$v.clasificacionExportar.$invalid && !this.$v.ubicacionExportar.$invalid && !this.$v.Introduccion.$invalid && !this.$v.objetivo.$invalid && !this.$v.deficiencias.$invalid  && !this.$v.Direccion.$invalid && !this.$v.observaciones.$invalid){\r\n            var dt = this.convertDateMysql(new Date())\r\n            var exportar = {tipo: this.tipoExportar, clasificacion: this.clasificacionExportar, ubicacion: this.ubicacionExportar, encargado: this.duenoExportar, introduccion: this.Introduccion, objetivo: this.objetivo, deficiencias: this.deficiencias, usuario: this.Usuario, direccion: this.Direccion}\r\n            var datosUsuarioEqp = {nomEquipo: this.nomEquipoExportar, codigo: this.codEquipoExportar, redactado: this.redactado, revisado: this.revisado, aprobado: this.aprobado, observaciones: this.observaciones, estadoExportar: this.estadoExportar, ubicacion: this.ubicacion}\r\n            loadFile(\r\n                \"http://localhost:3000/INFORME.docx\",\r\n                function (error, content) {\r\n                    if (error) {\r\n                        throw error;\r\n                    }\r\n                    const zip = new PizZip(content);\r\n                    const doc = new Docxtemplater(zip, {\r\n                        paragraphLoop: true,\r\n                        linebreaks: true,\r\n                    });\r\n\r\n                    // render the document (replace all occurences of {first_name} by John, {last_name} by Doe, ...)\r\n                    doc.render({\r\n                        tipoExportar: exportar.tipo,\r\n                        clasificacionExportar: exportar.clasificacion,\r\n                        ubicacionExportar: exportar.ubicacion,\r\n                        duenoExportar: exportar.encargado,\r\n                        Introduccion: exportar.introduccion,\r\n                        Objetivo: exportar.objetivo,\r\n                        deficiencias: exportar.deficiencias,\r\n                        Usuario: exportar.usuario,\r\n                        Direccion: exportar.direccion,\r\n                        nomEquipo: datosUsuarioEqp.nomEquipo,\r\n                        codigo: datosUsuarioEqp.codigo,\r\n                        redactado: datosUsuarioEqp.redactado,\r\n                        revisado: datosUsuarioEqp.revisado,\r\n                        aprobado: datosUsuarioEqp.aprobado,\r\n                        observaciones: datosUsuarioEqp.observaciones,\r\n                        estadoExportar: datosUsuarioEqp.estadoExportar,\r\n                        ubicacion: datosUsuarioEqp.ubicacion,\r\n                        fecha: dt\r\n                    });\r\n                    const out = doc.getZip().generate({\r\n                        type: \"blob\",\r\n                        mimeType:\r\n                            \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\r\n                    });\r\n                    // Output the document using Data-URI\r\n                    saveAs(out, \"InformeBaja\" + datosUsuarioEqp.codigo + \".docx\");\r\n                }\r\n            );\r\n        }else{\r\n          this.alerta('danger', 'No se ha logrado generar el informe de baja, asegurese de que todos los campos esten ingresados correctamente.')\r\n        }\r\n      }\r\n    },\r\n    //Prepara las tablas como Datatables de JQuery\r\n    async mounted(){\r\n      await $('#tablaConDueo').DataTable()\r\n      await $('#tablaSinDueo').DataTable();\r\n      await $(\"#tablaBajas\").DataTable()\r\n      await $(\"#historialEquipo\").DataTable()\r\n    },\r\n    watch: {\r\n      equiposAct(val) {\r\n        if(this.pestaa === 'equiposact'){\r\n          $('#tablaConDueo').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#tablaConDueo').DataTable()\r\n          });\r\n        }\r\n      },\r\n      equiposBuenEstado(val) {\r\n        if(this.pestaa === 'equiposNoAct'){\r\n          $('#tablaSinDueo').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#tablaSinDueo').DataTable()\r\n          });\r\n        }\r\n      },\r\n      equiposMalEstado(val) {\r\n        if(this.pestaa === 'equiposBaja'){\r\n          $('#tablaBajas').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#tablaBajas').DataTable()\r\n          });\r\n        }\r\n      },\r\n      historial(val) {\r\n        if(this.pestaa === 'historial'){\r\n          $('#historialEquipo').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#historialEquipo').DataTable()\r\n          });\r\n        }\r\n      }\r\n    }\r\n};\r\n\r\n\r\n</script>\r\n\r\n<style>\r\n  .menu{\r\n    padding: 30px;\r\n  }\r\n\r\n  body{\r\n    background-color: #eee;\r\n  }\r\n\r\n  .boton{\r\n    margin: 20px;\r\n    width: 90%;\r\n    border-radius: 12px;\r\n    border-color: black;\r\n  }\r\n</style>"]}]}