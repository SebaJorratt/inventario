{"remainingRequest":"D:\\inventarioInformatico\\inventario\\inventario\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\inventarioInformatico\\inventario\\inventario\\src\\views\\funcionario.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\inventarioInformatico\\inventario\\inventario\\src\\views\\funcionario.vue","mtime":1648665561638},{"path":"D:\\inventarioInformatico\\inventario\\inventario\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1644510051457},{"path":"D:\\inventarioInformatico\\inventario\\inventario\\node_modules\\babel-loader\\lib\\index.js","mtime":1644510041523},{"path":"D:\\inventarioInformatico\\inventario\\inventario\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1644510051457},{"path":"D:\\inventarioInformatico\\inventario\\inventario\\node_modules\\vue-loader\\lib\\index.js","mtime":1644510072741}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgbmF2YmFyIGZyb20gIi4uL2NvbXBvbmVudHMvbmF2YmFyLnZ1ZSI7DQppbXBvcnQgeyByZXF1aXJlZCwgZW1haWwsIG1pbkxlbmd0aCB9IGZyb20gInZ1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyI7DQppbXBvcnQgJ2pxdWVyeS9kaXN0L2pxdWVyeS5taW4uanMnOw0KaW1wb3J0ICdib290c3RyYXAvZGlzdC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MnOw0KaW1wb3J0ICJkYXRhdGFibGVzLm5ldC1kdC9qcy9kYXRhVGFibGVzLmRhdGFUYWJsZXMiOw0KaW1wb3J0ICJkYXRhdGFibGVzLm5ldC1kdC9jc3MvanF1ZXJ5LmRhdGFUYWJsZXMubWluLmNzcyI7DQppbXBvcnQgJCBmcm9tICdqcXVlcnknOyANCg0KaW1wb3J0ICogYXMgWExTWCBmcm9tICd4bHN4L3hsc3gubWpzJzsNCg0KLyogbG9hZCAnZnMnIGZvciByZWFkRmlsZSBhbmQgd3JpdGVGaWxlIHN1cHBvcnQgKi8NCmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJzsNClhMU1guc2V0X2ZzKGZzKTsNCg0KLyogbG9hZCB0aGUgY29kZXBhZ2Ugc3VwcG9ydCBsaWJyYXJ5IGZvciBleHRlbmRlZCBzdXBwb3J0IHdpdGggb2xkZXIgZm9ybWF0cyAgKi8NCmltcG9ydCAqIGFzIGNwZXhjZWwgZnJvbSAneGxzeC9kaXN0L2NwZXhjZWwuZnVsbC5tanMnOw0KWExTWC5zZXRfY3B0YWJsZShjcGV4Y2VsKTsNCg0KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4Jw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJhYm91dCIsDQogIGNvbXBvbmVudHM6IHsNCiAgICBuYXZiYXIsDQogIH0sDQogIGRhdGEoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICAvL0xpc3RhcyB1dGlsaXphZGFzIHBhcmEgZWwgbWFuZWpvIGRlIHRhYmxhcw0KICAgICAgICBlcXVpcG9zQWN0OiBbXSwNCiAgICAgICAgaGlzdG9yaWFsOiBbXSwNCiAgICAgICAgZnVuY2lvbmFyaW9zOiBbXSwNCiAgICAgICAgZGVwZW5kZW5jaWFzOiBbXSwNCiAgICAgICAgLy9QZXN0YcOxYSBxdWUgaW5kaWNhIGxhIHZpc3RhIGFjdHVhbA0KICAgICAgICBwZXN0YcOxYTogJ2Z1bmNpb25hcmlvcycsDQogICAgICAgIC8vVmFyaWFibGVzIHBhcmEgYWdyZWdhciB1biBudWV2byBmdW5jaW9uYXJpbyBjb24gdi1tb2RlbA0KICAgICAgICBjb2RpZ286ICcnLA0KICAgICAgICBjb2RpZ29GdW5jaW9uYXJpb0FncmVnYXI6ICcnLA0KICAgICAgICBub21GdW5jaW9uYXJpb0FncmVnYXI6ICcnLA0KICAgICAgICBjb3JyZW9BZ3JlZ2FyOiAnJywNCiAgICAgICAgcnV0QWdyZWdhcjogJycsDQogICAgICAgIGRlcGVuZGVuY2lhQWdyZWdhcjogJycsDQogICAgICAgIGVuY2FyZ2Fkb0FncmVnYXI6IDEsDQogICAgICAgIGNvZGlnb0phcmRpbkFncmVnYXI6ICcnLA0KICAgICAgICAvL1ZhcmlhYmxlcyBwYXJhIGVkaXRhciB1biBmdW5jaW9uYXJpbyBjb24gdi1tb2RlbA0KICAgICAgICBjb2RpZ29FZGl0YXI6ICcnLA0KICAgICAgICBjb2RpZ29GdW5jaW9uYXJpbzogJycsDQogICAgICAgIG5vbUZ1bmNpb25hcmlvOiAnJywNCiAgICAgICAgY29ycmVvOiAnJywNCiAgICAgICAgcnV0OiAnJywNCiAgICAgICAgZGVwZW5kZW5jaWFFZGl0YXI6ICcnLA0KICAgICAgICBjb2RpZ29KYXJkaW46ICcnLA0KICAgICAgICBlbmNhcmdhZG9FZGl0YXI6IDEsDQogICAgICAgIC8vVmFyaWFibGVzIGRlIGxhcyBhbGVydGFzDQogICAgICAgIGRpc21pc3NTZWNzOiA1LA0KICAgICAgICBkaXNtaXNzQ291bnREb3duOiAwLA0KICAgICAgICBtZW5zYWplOiB7Y29sb3I6ICcnLCB0ZXh0bzogJyd9LA0KICAgICAgICBhY3Rpdm86IHRydWUNCiAgICAgIH0NCiAgICB9LA0KICAgIHZhbGlkYXRpb25zOnsNCiAgICAgIC8vVmFsaWRhY2lvbmVzIGRlIGxvcyBpbnB1dA0KICAgICAgY29kaWdvOntyZXF1aXJlZH0sDQogICAgICBjb2RpZ29GdW5jaW9uYXJpb0FncmVnYXI6e3JlcXVpcmVkfSwNCiAgICAgIG5vbUZ1bmNpb25hcmlvQWdyZWdhcjp7cmVxdWlyZWQsIG1pbkxlbmd0aDogbWluTGVuZ3RoKDEwKX0sDQogICAgICBjb3JyZW9BZ3JlZ2FyOntyZXF1aXJlZCwgZW1haWx9LA0KICAgICAgcnV0QWdyZWdhcjp7cmVxdWlyZWR9LA0KICAgICAgY29kaWdvRnVuY2lvbmFyaW86e3JlcXVpcmVkfSwNCiAgICAgIG5vbUZ1bmNpb25hcmlvOntyZXF1aXJlZCwgbWluTGVuZ3RoOiBtaW5MZW5ndGgoMTApfSwNCiAgICAgIGNvcnJlbzp7cmVxdWlyZWQsIGVtYWlsfSwNCiAgICAgIHJ1dDp7cmVxdWlyZWR9DQogICAgfSwNCiAgICBjb21wdXRlZDogew0KICAgICAgLi4ubWFwU3RhdGUoWyd0b2tlbicsICd1c3VhcmlvREInXSkNCiAgICB9LA0KICAgIGNyZWF0ZWQoKXsNCiAgICAgIC8vSW5pY2lhbW9zIGxhcyBmdW5jaW9uZXMgcXVlIHNlIGVuY2FyZ2FuIGRlIGNhcmdhciBsb3MgZGF0b3MgYXBlbmFzIHNlIGluaWNpZSBsYSBydXRhDQogICAgICB0aGlzLmxpc3RhckZ1bmNpb25hcmlvcygpOw0KICAgICAgdGhpcy5saXN0YXJEZXBlbmRlbmNpYXMoKTsNCiAgICAgIHRoaXMudmVyaWZpY2FyKCk7DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICBleHBvcnRhcihudW0pIHsNCiAgICAgICAgbGV0IGRhdGEgPSBbXTsNCiAgICAgICAgdmFyIGZpbGVuYW1lID0gInBsYW5pbGxhIjsNCiAgICAgICAgaWYobnVtID09PSAxKXsNCiAgICAgICAgICB2YXIgYXJyZWdsYWRvID0gdGhpcy5lcXVpcG9zQWN0Lm1hcCggaXRlbSA9PiB7IA0KICAgICAgICAgICAgcmV0dXJuIHsgSUQ6IGl0ZW0uY29kSGlzdG9yaWFsICwgQ29kaWdvRXF1aXBvIDogaXRlbS5jb2RFcXVpcG8sIFRpcG8gOiBpdGVtLnRpcG9FcXVpcG8sIFNlcmllIDogaXRlbS5zZXJpZSwgTW9kZWxvIDogaXRlbS5tb2RlbG8sIE1hcmNhIDogaXRlbS5ub21NYXJjYSwgRGVwZW5kZW5jaWEgOiBpdGVtLm5vbUphcmRpbiwgWm9uYSA6IGl0ZW0uem9uYX07IA0KICAgICAgICAgIH0pOw0KICAgICAgICAgIGRhdGEgPSBYTFNYLnV0aWxzLmpzb25fdG9fc2hlZXQoYXJyZWdsYWRvKTsNCiAgICAgICAgICBmaWxlbmFtZSA9ICdFcXVpcG9zIGRlbCBVc3VhcmlvICcgKyB0aGlzLmNvZGlnb0VkaXRhcg0KICAgICAgICB9ZWxzZSBpZihudW0gPT09IDIpew0KICAgICAgICAgIHZhciBhcnJlZ2xhZG8gPSB0aGlzLmhpc3RvcmlhbC5tYXAoIGl0ZW0gPT4geyANCiAgICAgICAgICAgIHJldHVybiB7IElEOiBpdGVtLmNvZEhpc3RvcmlhbCAsIENvZGlnb0VxdWlwbyA6IGl0ZW0uY29kRXF1aXBvLCBUaXBvIDogaXRlbS50aXBvRXF1aXBvLCBTZXJpZSA6IGl0ZW0uc2VyaWUsIE1vZGVsbyA6IGl0ZW0ubW9kZWxvLCBNYXJjYSA6IGl0ZW0ubm9tTWFyY2EsIERlcGVuZGVuY2lhIDogaXRlbS5ub21KYXJkaW4sIERlc2RlIDogaXRlbS5mZWNoYUluaWNpbywgSGFzdGEgOiBpdGVtLmZlY2hhLCBab25hIDogaXRlbS56b25hfTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgICBkYXRhID0gWExTWC51dGlscy5qc29uX3RvX3NoZWV0KGFycmVnbGFkbyk7DQogICAgICAgICAgZmlsZW5hbWUgPSAnSGlzdG9yaWFsIGRlbCBVc3VhcmlvJyArIHRoaXMuY29kaWdvRWRpdGFyDQogICAgICAgIH1lbHNlIGlmKG51bSA9PT0gMyl7DQogICAgICAgICAgdmFyIGFycmVnbGFkbyA9IHRoaXMuZnVuY2lvbmFyaW9zLm1hcCggaXRlbSA9PiB7IA0KICAgICAgICAgICAgcmV0dXJuIHsgQ29kaWdvOiBpdGVtLmNvZGlnbyAsIE5vbWJyZSA6IGl0ZW0ubm9tYnJlLCBDb2RpZ29GdW5jaW9uYXJpbyA6IGl0ZW0uY29kRnVuY2lvbmFyaW8sIFJ1dCA6IGl0ZW0ucnV0LCAgQ29ycmVvIDogaXRlbS5jb3JyZW99OyANCiAgICAgICAgICB9KTsNCiAgICAgICAgICBkYXRhID0gWExTWC51dGlscy5qc29uX3RvX3NoZWV0KGFycmVnbGFkbyk7DQogICAgICAgICAgZmlsZW5hbWUgPSAnRnVuY2lvbmFyaW9zJw0KICAgICAgICB9DQogICAgICAgIGNvbnN0IHdvcmtib29rID0gWExTWC51dGlscy5ib29rX25ldygpOw0KICAgICAgICBYTFNYLnV0aWxzLmJvb2tfYXBwZW5kX3NoZWV0KHdvcmtib29rLCBkYXRhLCBmaWxlbmFtZSk7DQogICAgICAgIFhMU1gud3JpdGVGaWxlKHdvcmtib29rLCBgJHtmaWxlbmFtZX0ueGxzeGApOw0KICAgICAgfSwNCg0KICAgICAgdmVyaWZpY2FyKCl7DQogICAgICAgIGlmKHRoaXMudXN1YXJpb0RCLmRhdGFbMF0udGlwb1VzdWFyaW8gPT0gMCl7DQogICAgICAgICAgdGhpcy5hY3Rpdm8gPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAvL0Z1bmNpw7NuIHF1ZSBvYnRpZW5lIGxvcyBkYXRvcyBkZSBsb3MgZnVuY2lvbmFyaW9zIHkgbG9zIGVudmlhciBhbCBhcnJlZ2xvIHF1ZSBjYXJnYXJhIGxhIHRhYmxhDQogICAgICBsaXN0YXJGdW5jaW9uYXJpb3MoKXsNCiAgICAgICAgbGV0IGNvbmZpZyA9IHsNCiAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmF4aW9zLmdldCgnYXBpL2Z1bmNpb25hcmlvcycsIGNvbmZpZykNCiAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgdGhpcy5mdW5jaW9uYXJpb3MgPSByZXMuZGF0YTsNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnTm8gc2UgaGFuIHBvZGlkbyBjYXJnYXIgYSBsb3MgZnVuY2lvbmFyaW9zJyk7DQogICAgICAgICAgfSkNCiAgICAgIH0sDQogICAgICAvL0Z1bmNpw7NuIHF1ZSBvYnRpZW5lIGxvcyBkYXRvcyBkZSBsYXMgZGVwZW5kZW5jaWFzDQogICAgICBsaXN0YXJEZXBlbmRlbmNpYXMoKXsNCiAgICAgICAgbGV0IGNvbmZpZyA9IHsNCiAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmF4aW9zLmdldCgnYXBpL2RlcGVuZGVuY2lhc1RhYmxhJywgY29uZmlnKQ0KICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICB0aGlzLmRlcGVuZGVuY2lhcyA9IHJlcy5kYXRhOw0KICAgICAgICAgICAgdGhpcy5kZXBlbmRlbmNpYUFncmVnYXIgPSByZXMuZGF0YVswXS5ub21KYXJkaW4NCiAgICAgICAgICAgIHRoaXMuY29kaWdvSmFyZGluQWdyZWdhciA9IHJlcy5kYXRhWzBdLmNvZEphcmRpbg0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdObyBzZSBoYW4gcG9kaWRvIGNhcmdhciBhIGxhcyBkZXBlbmRlbmNpYXMnKTsNCiAgICAgICAgICB9KQ0KICAgICAgfSwNCiAgICAgIC8vTXVlc3RyYSBlbCBoaXN0b3JpYWwgZGUgZXF1aXBvcyBkZWwgZnVuY2lvbmFyaW8NCiAgICAgIGxpc3Rhckhpc3RvcmlhbCgpew0KICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuYXhpb3MuZ2V0KGBhcGkvSGlzdGZ1bmNpb25hcmlvLyR7dGhpcy5jb2RpZ29FZGl0YXJ9YCwgY29uZmlnKQ0KICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICB0aGlzLmhpc3RvcmlhbCA9IHJlcy5kYXRhOw0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdObyBzZSBoYSBsb2dyYWRvIG9idGVuZXIgZWwgaGlzdG9yaWFsIGRlc2VhZG8nKTsNCiAgICAgICAgICB9KQ0KICAgICAgfSwNCiAgICAgIC8vTGlzdGEgbG9zIGRhdG9zIGRlIGxvcyBlcXVpcG9zIGRlIGxvcyBxdWUgdW4gZnVuY2lvbmFyaW8gZXMgZHVlw7FvDQogICAgICBsaXN0YXJBY3R1YWxlcygpew0KICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuYXhpb3MuZ2V0KGBhcGkvQWN0ZnVuY2lvbmFyaW8vJHt0aGlzLmNvZGlnb0VkaXRhcn1gLCBjb25maWcpDQogICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIHRoaXMuZXF1aXBvc0FjdCA9IHJlcy5kYXRhOw0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdObyBzZSBoYSBsb2dyYWRvIG9idGVuZXIgbG9zIGVxdWlwb3MgcXVlIG9jdXBhIGVsIGZ1bmNpb25hcmlvJyk7DQogICAgICAgICAgfSkNCiAgICAgIH0sDQogICAgICAvL0Z1bmNpw7NuIHF1ZSBkZXRlcm1pbmEgbGEgdmlzdGEgZGUgZWRpY2nDs24gZGUgZnVuY2lvbmFyaW9zDQogICAgICBBY3RlZGl0YXIoY29kaWdvKXsNCiAgICAgICAgdGhpcy5wZXN0YcOxYSA9ICdlZGl0YXInDQogICAgICAgIHRoaXMuY29kaWdvRWRpdGFyID0gY29kaWdvOw0KICAgICAgICAkKCcjZnVuY2lvbmFyaW9zJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOw0KICAgICAgICAkKCcjaGlzdG9yaWFsZnVuY2lvbmFyaW9zJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOw0KICAgICAgICAkKCIjYWN0dWFsZXNmdW5jaW9uYXJpb3MiKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgIHRoaXMuY2FyZ2FyRnVuY2lvbmFyaW8oKTsNCiAgICAgIH0sDQogICAgICAvL0Z1bmNpw7NuIHF1ZSBkZXRlcm1pbmEgbGEgdmlzdGEgZGVsIGhpc3RvcmlhbCBkZSB1biBmdW5jaW9uYXJpbw0KICAgICAgQWN0SGlzdG9yaWFsKGNvZGlnbyl7DQogICAgICAgICQoJyNmdW5jaW9uYXJpb3MnKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICQoJyNoaXN0b3JpYWxmdW5jaW9uYXJpb3MnKS5EYXRhVGFibGUoKQ0KICAgICAgICB0aGlzLnBlc3Rhw7FhID0gJ2hpc3RvcmlhbCcNCiAgICAgICAgdGhpcy5jb2RpZ29FZGl0YXIgPSBjb2RpZ287DQogICAgICAgIHRoaXMubGlzdGFySGlzdG9yaWFsKCk7DQogICAgICB9LA0KICAgICAgLy9GdW5jacOzbiBxdWUgZGV0ZXJtaW5hIGxhIHZpc3RhIGRlIGxvcyBlcXVpcG9zIGFjdHVhbGVzIGRlIHVuIGZ1bmNpb25hcmlvDQogICAgICBFcXVpcG9zQWN0dWFsZXMoY29kaWdvKXsNCiAgICAgICAgJCgnI2Z1bmNpb25hcmlvcycpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsNCiAgICAgICAgJCgnI2FjdHVhbGVzZnVuY2lvbmFyaW9zJykuRGF0YVRhYmxlKCkNCiAgICAgICAgdGhpcy5wZXN0YcOxYSA9ICdhY3R1YWxlcycNCiAgICAgICAgdGhpcy5jb2RpZ29FZGl0YXIgPSBjb2RpZ287DQogICAgICAgIHRoaXMubGlzdGFyQWN0dWFsZXMoKTsNCiAgICAgIH0sDQogICAgICAvL0Z1bmNpw7NuIHF1ZSBkZXRlcm1pbmEgbGEgdmlzdGEgZGUgYWdyZWdhcg0KICAgICAgYWdyZWdhcigpew0KICAgICAgICAkKCcjZnVuY2lvbmFyaW9zJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOw0KICAgICAgICAkKCcjaGlzdG9yaWFsZnVuY2lvbmFyaW9zJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOw0KICAgICAgICAkKCIjYWN0dWFsZXNmdW5jaW9uYXJpb3MiKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgIHRoaXMucGVzdGHDsWEgPSAnYWdyZWdhcicNCiAgICAgIH0sIC8vRnVuY2lvbmVzIGRlIGxhIHZpc3RhIGFncmVnYXINCiAgICAgIGFncmVnYXJGdW5jaW9uYXJpbygpew0KICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5kZXBlbmRlbmNpYXMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5ub21KYXJkaW4gPT0gdGhpcy5kZXBlbmRlbmNpYUFncmVnYXIpOw0KICAgICAgICB2YXIgY29kSmFyZGluQWN0ID0gdGhpcy5kZXBlbmRlbmNpYXNbaW5kZXhdLmNvZEphcmRpbg0KICAgICAgICB0aGlzLiR2LiR0b3VjaCgpDQogICAgICAgIGlmKCF0aGlzLiR2LmNvZGlnby4kaW52YWxpZCAmJiAhdGhpcy4kdi5jb2RpZ29GdW5jaW9uYXJpb0FncmVnYXIuJGludmFsaWQgJiYgIXRoaXMuJHYubm9tRnVuY2lvbmFyaW9BZ3JlZ2FyLiRpbnZhbGlkICYmICF0aGlzLiR2LmNvcnJlb0FncmVnYXIuJGludmFsaWQgJiYgIXRoaXMuJHYucnV0QWdyZWdhci4kaW52YWxpZCl7DQogICAgICAgICAgdGhpcy5heGlvcy5wb3N0KCdhcGkvYWdyZWdhRnVuY2lvbmFyaW8nLCB7Y29kaWdvOiB0aGlzLmNvZGlnbywgbm9tYnJlOiB0aGlzLm5vbUZ1bmNpb25hcmlvQWdyZWdhciwgY29kRnVuY2lvbmFyaW86IHRoaXMuY29kaWdvRnVuY2lvbmFyaW9BZ3JlZ2FyLCBjb3JyZW86IHRoaXMuY29ycmVvQWdyZWdhciwgcnV0OiB0aGlzLnJ1dEFncmVnYXIsIGNvZEphcmRpbjogY29kSmFyZGluQWN0LCBlbmNhcmdhZG86IHRoaXMuZW5jYXJnYWRvQWdyZWdhcn0sIGNvbmZpZykNCiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgIGlmKHJlcy5kYXRhLnNxbE1lc3NhZ2Upew0KICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywNCiAgICAgICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBwb2RpZG8gY3JlYXIgYWwgZnVuY2lvbmFyaW8gJyArIHRoaXMubm9tRnVuY2lvbmFyaW9BZ3JlZ2FyLA0KICAgICAgICAgICAgICAgICAgZm9vdGVyOiAnWWEgZXhpc3RlIHVuIGZ1bmNpb25hcmlvIGNvbiB1biBkYXRvIHJlcGV0aWRvLCByZXZpc2UgbGEgbGlzdGEgZGUgZnVuY2lvbmFyaW9zJw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICBTd2FsLmZpcmUoDQogICAgICAgICAgICAgICAgJ1NlIGhhIGNyZWFkbyB1biBudWV2byBGdW5jaW9uYXJpbywgJyArIHRoaXMubm9tRnVuY2lvbmFyaW9BZ3JlZ2FyICsgJyBzZSBhZ3JlZ28gYWwgc2lzdGVtYSEnLA0KICAgICAgICAgICAgICAgICdTZWxlY2Npb25lIE9rIHBhcmEgY29udGludWFyJywNCiAgICAgICAgICAgICAgICAnc3VjY2VzcycNCiAgICAgICAgICAgICAgKX0NCiAgICAgICAgICAgICAgLy9sb2NhdGlvbi5yZWxvYWQoKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgIFN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywNCiAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLA0KICAgICAgICAgICAgICAgIHRleHQ6ICdObyBzZSBoYSBwb2RpZG8gY3JlYXIgYWwgZnVuY2lvbmFyaW8gJyArIHRoaXMubm9tRnVuY2lvbmFyaW9BZ3JlZ2FyLA0KICAgICAgICAgICAgICAgIGZvb3RlcjogJ1Bvc2libGUgZXJyb3IgZGVsIHNpc3RlbWEnDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgfSkNCiAgICAgICAgfWVsc2UgaWYoIXRoaXMuJHYuY29ycmVvQWdyZWdhci4kaW52YWxpZCl7DQogICAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdQb3JmYXZvciBpbmdyZXNlIHRvZG9zIGxvcyBkYXRvcyByZXF1ZXJpZG9zJyk7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnSW5ncmVzZSB1biBjb3JyZW8gdmFsaWRvJyk7DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAvL1NlIHJlaW5pY2lhIGxhIHJ1dGEgcGFyYSByZWdyZXNhciBhIGxhIHBhbnRhbGxhIFByaW5jaXBhbA0KICAgICAgVm9sdmVyKCl7DQogICAgICAgICQoIiNoaXN0b3JpYWxmdW5jaW9uYXJpb3MiKS5EYXRhVGFibGUoKS5kZXN0cm95KCk7DQogICAgICAgICQoIiNhY3R1YWxlc2Z1bmNpb25hcmlvcyIpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsNCiAgICAgICAgdGhpcy5wZXN0YcOxYSA9ICdmdW5jaW9uYXJpb3MnDQogICAgICAgIHRoaXMubGlzdGFyRnVuY2lvbmFyaW9zKCk7DQogICAgICB9LCANCiAgICAgIGNhbWJpYUphcmRpbigpew0KICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZGVwZW5kZW5jaWFzLmZpbmRJbmRleChpdGVtID0+IGl0ZW0ubm9tSmFyZGluID09IHRoaXMuZGVwZW5kZW5jaWFBZ3JlZ2FyKTsNCiAgICAgICAgdGhpcy5jb2RpZ29KYXJkaW5BZ3JlZ2FyID0gdGhpcy5kZXBlbmRlbmNpYXNbaW5kZXhdLmNvZEphcmRpbg0KICAgICAgfSwNCiAgICAgIGNhbWJpYUphcmRpbkVkaXRhcigpew0KICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZGVwZW5kZW5jaWFzLmZpbmRJbmRleChpdGVtID0+IGl0ZW0ubm9tSmFyZGluID09IHRoaXMuZGVwZW5kZW5jaWFFZGl0YXIpOw0KICAgICAgICB0aGlzLmNvZGlnb0phcmRpbiA9IHRoaXMuZGVwZW5kZW5jaWFzW2luZGV4XS5jb2RKYXJkaW4NCiAgICAgIH0sDQogICAgICAvL0NhcmdhIGxvcyBkYXRvcyBkZSB1biBmdW5jaW9uYXJpbyBxdWUgc2UgdmEgYSBlZGl0YXINCiAgICAgIGNhcmdhckZ1bmNpb25hcmlvKCl7DQogICAgICAgIGxldCBjb25maWcgPSB7DQogICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5heGlvcy5nZXQoYGFwaS9mdW5jaW9uYXJpby8ke3RoaXMuY29kaWdvRWRpdGFyfWAsIGNvbmZpZykNCiAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgdGhpcy5jb2RpZ29GdW5jaW9uYXJpbyA9IHJlcy5kYXRhWzBdLmNvZEZ1bmNpb25hcmlvOw0KICAgICAgICAgICAgdGhpcy5ub21GdW5jaW9uYXJpbyA9IHJlcy5kYXRhWzBdLm5vbWJyZTsNCiAgICAgICAgICAgIHRoaXMuY29ycmVvID0gcmVzLmRhdGFbMF0uY29ycmVvOw0KICAgICAgICAgICAgdGhpcy5ydXQgPSByZXMuZGF0YVswXS5ydXQ7DQogICAgICAgICAgICB0aGlzLmVuY2FyZ2Fkb0VkaXRhciA9IHJlcy5kYXRhWzBdLmVuY2FyZ2Fkbw0KICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmRlcGVuZGVuY2lhcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmNvZEphcmRpbiA9PSByZXMuZGF0YVswXS5jb2RKYXJkaW4pOw0KICAgICAgICAgICAgdGhpcy5kZXBlbmRlbmNpYUVkaXRhciA9IHRoaXMuZGVwZW5kZW5jaWFzW2luZGV4XS5ub21KYXJkaW4NCiAgICAgICAgICAgIHRoaXMuY29kaWdvSmFyZGluID0gcmVzLmRhdGFbMF0uY29kSmFyZGluDQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICBTd2FsLmZpcmUoew0KICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLA0KICAgICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLA0KICAgICAgICAgICAgICB0ZXh0OiAnTm8gc2UgaGEgcG9kaWRvIGluZ3Jlc2FyIGEgbG9zIGRhdG9zIGRlIGVzdGUgZnVuY2lvbmFyaW8nLA0KICAgICAgICAgICAgICBmb290ZXI6ICdQb3NpYmxlIGVycm9yIGRlbCBzaXN0ZW1hJw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHRoaXMucGVzdGHDsWEgPSAnZnVuY2lvbmFyaW8nOw0KICAgICAgICAgIH0pDQogICAgICB9LA0KICAgICAgLy9GdW5jacOzbiBxdWUgcGVybWl0ZSBlZGl0YXIgYSB1biBmdW5jaW9uYXJpbw0KICAgICAgZWRpdGFyRnVuY2lvbmFyaW8oKXsNCiAgICAgICAgbGV0IGNvbmZpZyA9IHsNCiAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB0aGlzLiR2LiR0b3VjaCgpDQogICAgICAgIGlmKCF0aGlzLiR2LmNvZGlnb0Z1bmNpb25hcmlvLiRpbnZhbGlkICYmICF0aGlzLiR2Lm5vbUZ1bmNpb25hcmlvLiRpbnZhbGlkICYmICF0aGlzLiR2LmNvcnJlby4kaW52YWxpZCAmJiAhdGhpcy4kdi5ydXQuJGludmFsaWQpew0KICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5kZXBlbmRlbmNpYXMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5ub21KYXJkaW4gPT0gdGhpcy5kZXBlbmRlbmNpYUVkaXRhcik7DQogICAgICAgICAgdmFyIGNvZEphcmRpbkFjdCA9IHRoaXMuZGVwZW5kZW5jaWFzW2luZGV4XS5jb2RKYXJkaW4NCiAgICAgICAgICB0aGlzLmF4aW9zLnB1dChgYXBpL2FjdHVhbGl6YUZ1bmNpb25hcmlvLyR7dGhpcy5jb2RpZ29FZGl0YXJ9YCwge2NvZGlnbzogdGhpcy5jb2RpZ28sIG5vbWJyZTogdGhpcy5ub21GdW5jaW9uYXJpbywgY29kRnVuY2lvbmFyaW86IHRoaXMuY29kaWdvRnVuY2lvbmFyaW8sIGNvcnJlbzogdGhpcy5jb3JyZW8sIHJ1dDogdGhpcy5ydXQsIGNvZEphcmRpbjogY29kSmFyZGluQWN0LCBlbmNhcmdhZG86IHRoaXMuZW5jYXJnYWRvRWRpdGFyfSwgY29uZmlnKQ0KICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgaWYocmVzLmRhdGEuc3FsTWVzc2FnZSl7DQogICAgICAgICAgICAgICAgU3dhbC5maXJlKHsNCiAgICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsDQogICAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMuLi4nLA0KICAgICAgICAgICAgICAgICAgdGV4dDogJ05vIHNlIGhhIHBvZGlkbyBhY3R1YWxpemFyIGFsIGZ1bmNpb25hcmlvICcgKyB0aGlzLm5vbUZ1bmNpb25hcmlvLA0KICAgICAgICAgICAgICAgICAgZm9vdGVyOiAnWWEgZXhpc3RlIHVuIGZ1bmNpb25hcmlvIGNvbiBlc3RlIGNvZGlnbyBvIGNvcnJlbyBvIHJ1dCwgcmV2aXNlIGxhIGxpc3RhIGRlIGZ1bmNpb25hcmlvcycNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgU3dhbC5maXJlKA0KICAgICAgICAgICAgICAgICdTZSByZWdpc3RyYXJvbiBsb3MgY2FtYmlvcyBkZWwgRnVuY2lvbmFyaW8sICcgKyB0aGlzLm5vbUZ1bmNpb25hcmlvICsgJyBhY3R1YWxpemFjacOzbiBSZWFsaXphZGEhJywNCiAgICAgICAgICAgICAgICAnU2VsZWNjaW9uZSBPayBwYXJhIGNvbnRpbnVhcicsDQogICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnDQogICAgICAgICAgICAgICl9DQogICAgICAgICAgICAgIC8vbG9jYXRpb24ucmVsb2FkKCk7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICBTd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsDQogICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzLi4uJywNCiAgICAgICAgICAgICAgICB0ZXh0OiAnTm8gc2UgaGEgcG9kaWRvIGFjdHVhbGl6YXIgYWwgZnVuY2lvbmFyaW8gJyArIHRoaXMubm9tRnVuY2lvbmFyaW8sDQogICAgICAgICAgICAgICAgZm9vdGVyOiAnUG9zaWJsZSBlcnJvciBkZWwgc2lzdGVtYScNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0pDQogICAgICAgIH1lbHNlIGlmKCF0aGlzLiR2LmNvcnJlby4kaW52YWxpZCl7DQogICAgICAgICAgdGhpcy5hbGVydGEoJ2RhbmdlcicsICdQb3JmYXZvciBpbmdyZXNlIHRvZG9zIGxvcyBkYXRvcyByZXF1ZXJpZG9zJyk7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuYWxlcnRhKCdkYW5nZXInLCAnSW5ncmVzZSB1biBjb3JyZW8gdmFsaWRvJyk7DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBjb252ZXJ0RGF0ZU15c3FsKHlvdXJEYXRlKXsNCiAgICAgICAgeW91ckRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdDQogICAgICAgIGNvbnN0IG9mZnNldCA9IHlvdXJEYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkNCiAgICAgICAgeW91ckRhdGUgPSBuZXcgRGF0ZSh5b3VyRGF0ZS5nZXRUaW1lKCkgLSAob2Zmc2V0KjYwKjEwMDApKQ0KICAgICAgICByZXR1cm4geW91ckRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdDQoJCSAgfSwNCiAgICAgIC8vRnVuY2lvbiBxdWUgcXVpdGEgdW4gZXF1aXBvIGEgdW4gZnVuY2lvbmFyaW8NCiAgICAgIHF1aXRhcihpZCwgZXN0YWRvKXsNCiAgICAgICAgdmFyIGR0ID0gdGhpcy5jb252ZXJ0RGF0ZU15c3FsKG5ldyBEYXRlKCkpDQogICAgICAgIHN3YWwuZmlyZSh7DQogICAgICAgICAgICB0aXRsZTogJ8K/U2VndXJvIHF1ZSBkZXNlYSBxdWl0YXIgZWwgZXF1aXBvPycsDQogICAgICAgICAgICB0eXBlOiAnd2FybmluZycsDQogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLA0KICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzMwODVkNicsDQogICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLA0KICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbGFyJywNCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnwqFTaSEnDQogICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gew0KICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsNCiAgICAgICAgICAgIGxldCBjb25maWcgPSB7DQogICAgICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbg0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmF4aW9zLnB1dChgYXBpL2FjdHVhbGl6YUhpc3RvcmlhbC8ke2lkfWAsIHtmZWNoYTogZHR9LCBjb25maWcpDQogICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmVxdWlwb3NBY3QuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5jb2RIaXN0b3JpYWwgPT0gcmVzLmRhdGEpOw0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGluZGV4KTsNCiAgICAgICAgICAgICAgICB0aGlzLmVxdWlwb3NBY3Quc3BsaWNlKGluZGV4LCAxKQ0KICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgNCiAgICAgICAgICAgICAgICAgICdTZSBoYSBxdWl0YWRvIHVuIGVxdWlwbyBhbCBmdW5jaW9uYXJpbyEnLA0KICAgICAgICAgICAgICAgICAgJ1NlbGVjY2lvbmUgT2sgcGFyYSBjb250aW51YXInLA0KICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnDQogICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgdmFyIG1lbnNhamUgPSAnUG9zaWJsZSBlcnJvciBkZWwgc2lzdGVtYSc7DQogICAgICAgICAgICAgICAgaWYoZS5yZXNwb25zZS5kYXRhLm1lbnNhamUpew0KICAgICAgICAgICAgICAgICAgbWVuc2FqZSA9IGUucmVzcG9uc2UuZGF0YS5tZW5zYWplOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBTd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywNCiAgICAgICAgICAgICAgICAgIHRpdGxlOiAnT29wcy4uLicsDQogICAgICAgICAgICAgICAgICB0ZXh0OiAnTm8gc2UgaGEgcG9kaWRvIHF1aXRhciBlbCBlcXVpcG8gYSBzdSBmdW5jaW9uYXJpbycsDQogICAgICAgICAgICAgICAgICBmb290ZXI6IG1lbnNhamUNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICB9LA0KICAgICAgLy9GdW5jaW9uZXMgZGUgbGEgYWxlcnRhDQogICAgICBjb3VudERvd25DaGFuZ2VkKGRpc21pc3NDb3VudERvd24pIHsNCiAgICAgICAgdGhpcy5kaXNtaXNzQ291bnREb3duID0gZGlzbWlzc0NvdW50RG93bg0KICAgICAgfSwNCiAgICAgIHNob3dBbGVydCgpIHsNCiAgICAgICAgdGhpcy5kaXNtaXNzQ291bnREb3duID0gdGhpcy5kaXNtaXNzU2Vjcw0KICAgICAgfSwNCiAgICAgIGFsZXJ0YShjb2xvciwgdGV4dG8pew0KICAgICAgICB0aGlzLm1lbnNhamUuY29sb3IgPSBjb2xvcjsNCiAgICAgICAgdGhpcy5tZW5zYWplLnRleHRvID0gdGV4dG87DQogICAgICAgIHRoaXMuc2hvd0FsZXJ0KCk7DQogICAgICB9LA0KICAgIH0sDQogICAgLy9TZSBjYXJnYW4gbGFzIHRhYmxhcyBjb21vIERhdGF0YWJsZXMgZGVsIEpxdWVyeQ0KICAgIG1vdW50ZWQoKXsNCiAgICAgICQoJyNmdW5jaW9uYXJpb3MnKS5EYXRhVGFibGUoKTsNCiAgICAgICQoJyNoaXN0b3JpYWxmdW5jaW9uYXJpb3MnKS5EYXRhVGFibGUoKTsNCiAgICAgICQoIiNhY3R1YWxlc2Z1bmNpb25hcmlvcyIpLkRhdGFUYWJsZSgpDQogICAgfSwNCiAgICB3YXRjaDogew0KICAgICAgZnVuY2lvbmFyaW9zKHZhbCkgew0KICAgICAgICBpZih0aGlzLnBlc3Rhw7FhID09PSAnZnVuY2lvbmFyaW9zJyl7DQogICAgICAgICAgJCgnI2Z1bmNpb25hcmlvcycpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsNCiAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKT0+IHsNCiAgICAgICAgICAgICQoJyNmdW5jaW9uYXJpb3MnKS5EYXRhVGFibGUoKQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgaGlzdG9yaWFsKHZhbCkgew0KICAgICAgICBpZih0aGlzLnBlc3Rhw7FhID09PSAnaGlzdG9yaWFsJyl7DQogICAgICAgICAgJCgnI2hpc3RvcmlhbGZ1bmNpb25hcmlvcycpLkRhdGFUYWJsZSgpLmRlc3Ryb3koKTsNCiAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKT0+IHsNCiAgICAgICAgICAgICQoJyNoaXN0b3JpYWxmdW5jaW9uYXJpb3MnKS5EYXRhVGFibGUoKQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgZXF1aXBvc0FjdCh2YWwpIHsNCiAgICAgICAgaWYodGhpcy5wZXN0YcOxYSA9PT0gJ2FjdHVhbGVzJyl7DQogICAgICAgICAgJCgnI2FjdHVhbGVzZnVuY2lvbmFyaW9zJykuRGF0YVRhYmxlKCkuZGVzdHJveSgpOw0KICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpPT4gew0KICAgICAgICAgICAgJCgnI2FjdHVhbGVzZnVuY2lvbmFyaW9zJykuRGF0YVRhYmxlKCkNCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICB9DQp9Ow0KDQoNCg=="},{"version":3,"sources":["funcionario.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+RA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"funcionario.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"about\">\r\n    <navbar />\r\n    <b-container>\r\n        <div class=\"menu\">\r\n            <h1 v-if=\"pestaña === 'funcionarios'\">Listado de funcionarios</h1>\r\n            <h1 v-if=\"pestaña === 'agregar'\">Agrega un Funcionario</h1>\r\n            <h1 v-if=\"pestaña === 'historial'\">Historial del Funcionario</h1>\r\n            <h1 v-if=\"pestaña === 'actuales'\">Equipos actuales del Funcionario</h1>\r\n            <h1 v-if=\"pestaña === 'editar'\">Editar Funcionario</h1>\r\n            <b-alert\r\n              :show=\"dismissCountDown\"\r\n              dismissible\r\n              :variant=\"mensaje.color\"\r\n              @dismissed=\"dismissCountDown=0\"\r\n              @dismiss-count-down=\"countDownChanged\"\r\n              >\r\n              {{mensaje.texto}}\r\n            </b-alert>  \r\n            <br>\r\n            <!-- Boton para ir a agregar un Funcionario -->\r\n            <div class=\"row\">\r\n              <b-button @click=\"agregar()\" class=\"btn-success botonAgregar\" style=\"border-color: black;\" v-if=\"pestaña === 'funcionarios'\">Agregar Funcionario</b-button>\r\n            </div><br>\r\n            <!-- Listado de Funcionarios -->\r\n            <div class=\"row\">\r\n                <table id='funcionarios' class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" v-if=\"pestaña === 'funcionarios'\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">Codigo</th>\r\n                      <th scope=\"col\">Nombre</th>\r\n                      <th scope=\"col\">Codigo de Funcionario</th>\r\n                      <th scope=\"col\">Rut</th>\r\n                      <th scope=\"col\">Correo</th>\r\n                      <th scope=\"col\">Editar</th>\r\n                      <th scope=\"col\">Historial</th>\r\n                      <th scope=\"col\">Equipos Actuales</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"i in funcionarios\" :key=\"i.codigo\">\r\n                      <td scope=\"row\">{{i.codigo}}</td>\r\n                      <td>{{i.nombre}}</td>\r\n                      <td>{{i.codFuncionario}}</td>\r\n                      <td>{{i.rut}}</td>\r\n                      <td>{{i.correo}}</td>\r\n                      <td>\r\n                        <b-button @click=\"Acteditar(i.codigo)\" class=\"btn-warning btn-sm\" style=\"border-color: white;\">Editar</b-button>\r\n                      </td>\r\n                      <td>\r\n                        <b-button @click=\"ActHistorial(i.codigo)\" class=\"btn-sm\" style=\"border-color: white;\">Historial</b-button>\r\n                      </td>\r\n                      <td>\r\n                        <b-button @click=\"EquiposActuales(i.codigo)\" class=\"btn-success btn-sm\" style=\"border-color: white;\">Equipos Actuales</b-button>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <br v-if=\"pestaña === 'funcionarios'\"><div class=\"mb-1\">\r\n                  <b-button @click=\"exportar(3)\" v-if=\"pestaña === 'funcionarios'\" class=\"btn-success boton\">Exportar</b-button>\r\n                </div>\r\n            </div>\r\n          <!-- Agregar un funcionario -->\r\n          <div class=\"card\" v-if=\"pestaña === 'agregar'\" style=\"border-color: black;\">\r\n               <div class=\"card-body\">\r\n                 <b-row>\r\n                   <b-col cols=\"12\" md=\"12\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Codigo Principal del Funcionario</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"codigoAgrega\" aria-describedby=\"emailHelp\" v-model=\"$v.codigo.$model\">\r\n                      <p class=\"text-danger\" v-if=\"$v.codigo.$error\">Es necesario ingresar un codigo</p>\r\n                    </div>\r\n                  </b-col>\r\n                 </b-row>\r\n                 <b-row>\r\n                  <b-col cols=\"12\" md=\"3\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Codigo Funcionario</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"codFuncionarioAgrega\" aria-describedby=\"emailHelp\" v-model=\"$v.codigoFuncionarioAgregar.$model\">\r\n                      <p class=\"text-danger\" v-if=\"$v.codigoFuncionarioAgregar.$error\">Es necesario ingresar un codigo</p>\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"4\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Nombre del Funcionario</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"nomFuncionarioAgrega\" aria-describedby=\"emailHelp\" v-model=\"$v.nomFuncionarioAgregar.$model\">\r\n                      <p class=\"text-danger\" v-if=\"$v.nomFuncionarioAgregar.$error\">Es necesario ingresar un nombre mínimos 10 caracteres</p>\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"3\">\r\n                    <label for=\"exampleInputEmail1\" class=\"form-label\">Dependencia</label>\r\n                    <select class=\"form-control\" @change=\"cambiaJardin()\" v-model=\"dependenciaAgregar\">\r\n                      <option v-for=\"i in dependencias\" :key=\"i.codJardin\" :value=\"i.nomJardin\">{{i.nomJardin}}</option>\r\n                    </select>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"2\">\r\n                    <label for=\"exampleInputEmail1\" class=\"form-label\">Codigo Jardín</label>\r\n                    <input disabled type=\"text\" class=\"form-control\" id=\"nomFuncionarioAgrega\" aria-describedby=\"emailHelp\" v-model=\"codigoJardinAgregar\">\r\n                  </b-col>\r\n                </b-row>\r\n                  <b-row>\r\n                    <b-col cols=\"12\" md=\"4\">\r\n                      <div class=\"mb-3\">\r\n                        <label for=\"exampleInputEmail1\" class=\"form-label\">Correo del Funcionario</label>\r\n                        <input type=\"email\" class=\"form-control\" id=\"correoAgrega\" aria-describedby=\"emailHelp\" v-model=\"$v.correoAgregar.$model\">\r\n                        <p class=\"text-danger\" v-if=\"$v.correoAgregar.$error\">Por favor ingrese un email</p>\r\n                      </div>\r\n                    </b-col>\r\n                    <b-col cols=\"12\" md=\"4\">\r\n                      <div class=\"mb-3\">\r\n                        <label for=\"exampleInputEmail1\" class=\"form-label\">Rut del Funcionario</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"rutAgrega\" aria-describedby=\"emailHelp\" v-model=\"$v.rutAgregar.$model\">\r\n                        <p class=\"text-danger\" v-if=\"$v.rutAgregar.$error\">Es necesario ingresar un rut</p>\r\n                      </div>\r\n                    </b-col>\r\n                    <b-col cols=\"12\" md=\"4\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Encargado de Dependencia</label>\r\n                      <select class=\"form-control\" v-model=\"encargadoAgregar\">\r\n                        <option disabled value=\"\">Tipo de funcionario</option>\r\n                        <option value=\"1\">Encargado</option>\r\n                        <option value=\"0\">Normal</option>\r\n                      </select>\r\n                    </b-col>\r\n                  </b-row>\r\n                <br>\r\n                <b-row>\r\n                  <b-col cols=\"12\" md=\"6\">\r\n                    <button type=\"submit\" @click=\"agregarFuncionario()\" class=\"btn btn-success m-3 boton\">Agregar Funcionario</button>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"6\">\r\n                    <button type=\"submit\" @click=\"Volver()\" class=\"btn btn-primary boton\">Volver al Listado</button>\r\n                  </b-col>\r\n                </b-row>\r\n            </div>\r\n          </div>\r\n          <!-- Editar un funcionario -->\r\n          <div class=\"card\" v-if=\"pestaña === 'editar'\" style=\"border-color: black;\">\r\n               <div class=\"card-body\">\r\n                 <b-row>\r\n                  <b-col cols=\"12\" md=\"3\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Codigo Funcionario</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"codFuncionarioEdita\" aria-describedby=\"emailHelp\" v-model=\"$v.codigoFuncionario.$model\">\r\n                      <p class=\"text-danger\" v-if=\"$v.codigoFuncionario.$error\">Es necesario ingresar un codigo</p>\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"4\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Nombre del Funcionario</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"nomFuncionarioEdita\" aria-describedby=\"emailHelp\" v-model=\"$v.nomFuncionario.$model\">\r\n                      <p class=\"text-danger\" v-if=\"$v.nomFuncionario.$error\">Es necesario ingresar un nombre mínimos 10 caracteres</p>\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"3\">\r\n                    <label for=\"exampleInputEmail1\" class=\"form-label\">Dependencia</label>\r\n                    <select class=\"form-control\" @change=\"cambiaJardinEditar()\" v-model=\"dependenciaEditar\">\r\n                      <option v-for=\"i in dependencias\" :key=\"i.codJardin\" :value=\"i.nomJardin\">{{i.nomJardin}}</option>\r\n                    </select>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"2\">\r\n                    <label for=\"exampleInputEmail1\" class=\"form-label\">Codigo Jardín</label>\r\n                    <input disabled type=\"text\" class=\"form-control\" id=\"nomFuncionarioAgrega\" aria-describedby=\"emailHelp\" v-model=\"codigoJardin\">\r\n                  </b-col>\r\n                </b-row>\r\n                  <b-row>\r\n                    <b-col cols=\"12\" md=\"4\">\r\n                      <div class=\"mb-3\">\r\n                        <label for=\"exampleInputEmail1\" class=\"form-label\">Correo del Funcionario</label>\r\n                        <input type=\"email\" class=\"form-control\" id=\"correoEdita\" aria-describedby=\"emailHelp\" v-model=\"$v.correo.$model\">\r\n                        <p class=\"text-danger\" v-if=\"$v.correo.$error\">Por favor ingrese un email</p>\r\n                      </div>\r\n                    </b-col>\r\n                    <b-col cols=\"12\" md=\"4\">\r\n                      <div class=\"mb-3\">\r\n                        <label for=\"exampleInputEmail1\" class=\"form-label\">Rut del Funcionario</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"rutEdita\" aria-describedby=\"emailHelp\" v-model=\"$v.rut.$model\">\r\n                        <p class=\"text-danger\" v-if=\"$v.rut.$error\">Es necesario ingresar un rut</p>\r\n                      </div>\r\n                    </b-col>\r\n                    <b-col cols=\"12\" md=\"4\">\r\n                      <label for=\"exampleInputEmail1\" class=\"form-label\">Encargado de Dependencia</label>\r\n                      <select class=\"form-control\" v-model=\"encargadoEditar\">\r\n                        <option disabled value=\"\">Tipo de funcionario</option>\r\n                        <option value=\"1\">Encargado</option>\r\n                        <option value=\"0\">Normal</option>\r\n                      </select>\r\n                    </b-col>\r\n                </b-row>\r\n                <br>\r\n                <b-row>\r\n                  <b-col cols=\"12\" md=\"6\">\r\n                    <button type=\"submit\" @click=\"editarFuncionario()\" class=\"btn btn-success m-3 boton\">Editar Funcionario</button>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" md=\"6\">\r\n                    <button type=\"submit\" @click=\"Volver()\" class=\"btn btn-primary boton\">Volver al Listado</button>\r\n                  </b-col>\r\n                </b-row>\r\n            </div>\r\n          </div>\r\n          <!-- Historial del funcionario -->\r\n          <div class=\"row\">\r\n            <b-button @click=\"Volver()\" class=\"botonAgregar\" v-if=\"pestaña === 'historial'\" style=\"border-color: black;\">Volver al listado de Funcionarios</b-button>\r\n          </div><br v-if=\"pestaña === 'historial'\">\r\n          <div class=\"row\">\r\n              <div class=\"table-responsive\">\r\n                  <table id='historialfuncionarios' class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" v-if=\"pestaña === 'historial'\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th scope=\"col\">Id</th>\r\n                        <th scope=\"col\">Codigo Equipo</th>\r\n                        <th scope=\"col\">Tipo de Equipo</th>\r\n                        <th scope=\"col\">N° Serie</th>\r\n                        <th scope=\"col\">Modelo</th>\r\n                        <th scope=\"col\">Marca</th>\r\n                        <th scope=\"col\">Dependencia</th>\r\n                        <th scope=\"col\">Desde</th>\r\n                        <th scope=\"col\">Hasta</th>\r\n                        <th scope=\"col\">Zona</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr v-for=\"i in historial\" :key=\"i.codHistorial\">\r\n                        <td scope=\"row\">{{i.codHistorial}}</td>\r\n                        <td>{{i.codEquipo}}</td>\r\n                        <td>{{i.tipoEquipo}}</td>\r\n                        <td>{{i.serie}}</td>\r\n                        <td>{{i.modelo}}</td>\r\n                        <td>{{i.nomMarca}}</td>\r\n                        <td>{{i.nomJardin}}</td>\r\n                        <td>{{i.fechaInicio}}</td>\r\n                        <td>{{i.fecha}}</td>\r\n                        <td>{{i.zona}}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                  <br v-if=\"pestaña === 'historial'\"><div class=\"mb-1\">\r\n                  <b-button @click=\"exportar(2)\" v-if=\"pestaña === 'historial'\" class=\"btn-success boton\">Exportar</b-button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          <!-- Equipos Actuales del funcionario -->  \r\n          <div class=row>\r\n            <b-button @click=\"Volver()\" class=\"botonAgregar\" v-if=\"pestaña === 'actuales'\" style=\"border-color: black;\">Volver al listado de Funcionarios</b-button>\r\n          </div><br v-if=\"pestaña === 'actuales'\">\r\n          <div class=\"row\">\r\n                <table id='actualesfuncionarios' class=\"table table-striped table-dark table-responsive-lg table-responsive-md\" v-if=\"pestaña === 'actuales'\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\">Id</th>\r\n                      <th scope=\"col\">Codigo Equipo</th>\r\n                      <th scope=\"col\">Tipo de Equipo</th>\r\n                      <th scope=\"col\">N° Serie</th>\r\n                      <th scope=\"col\">Modelo</th>\r\n                      <th scope=\"col\">Marca</th>\r\n                      <th scope=\"col\">Dependencia</th>\r\n                      <th scope=\"col\">Fecha</th>\r\n                      <th scope=\"col\">Zona</th>\r\n                      <th scope=\"col\" v-if=\"activo\">Quitar Equipo</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"i in equiposAct\" :key=\"i.codHistorial\">\r\n                      <td scope=\"row\">{{i.codHistorial}}</td>\r\n                      <td>{{i.codEquipo}}</td>\r\n                      <td>{{i.tipoEquipo}}</td>\r\n                      <td>{{i.serie}}</td>\r\n                      <td>{{i.modelo}}</td>\r\n                      <td>{{i.nomMarca}}</td>\r\n                      <td>{{i.nomJardin}}</td>\r\n                      <td>{{i.fechaInicio}}</td>\r\n                      <td>{{i.zona}}</td>\r\n                      <td v-if=\"activo\">\r\n                        <b-button @click=\"quitar(i.codHistorial)\" class=\"btn-danger btn-sm\" style=\"border-color: white;\">Quitar</b-button>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <br v-if=\"pestaña === 'actuales'\"><div class=\"mb-1\">\r\n                  <b-button @click=\"exportar(1)\" v-if=\"pestaña === 'actuales'\" class=\"btn-success boton\">Exportar</b-button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </b-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport navbar from \"../components/navbar.vue\";\r\nimport { required, email, minLength } from \"vuelidate/lib/validators\";\r\nimport 'jquery/dist/jquery.min.js';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"datatables.net-dt/js/dataTables.dataTables\";\r\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\";\r\nimport $ from 'jquery'; \r\n\r\nimport * as XLSX from 'xlsx/xlsx.mjs';\r\n\r\n/* load 'fs' for readFile and writeFile support */\r\nimport * as fs from 'fs';\r\nXLSX.set_fs(fs);\r\n\r\n/* load the codepage support library for extended support with older formats  */\r\nimport * as cpexcel from 'xlsx/dist/cpexcel.full.mjs';\r\nXLSX.set_cptable(cpexcel);\r\n\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  name: \"about\",\r\n  components: {\r\n    navbar,\r\n  },\r\n  data() {\r\n      return {\r\n        //Listas utilizadas para el manejo de tablas\r\n        equiposAct: [],\r\n        historial: [],\r\n        funcionarios: [],\r\n        dependencias: [],\r\n        //Pestaña que indica la vista actual\r\n        pestaña: 'funcionarios',\r\n        //Variables para agregar un nuevo funcionario con v-model\r\n        codigo: '',\r\n        codigoFuncionarioAgregar: '',\r\n        nomFuncionarioAgregar: '',\r\n        correoAgregar: '',\r\n        rutAgregar: '',\r\n        dependenciaAgregar: '',\r\n        encargadoAgregar: 1,\r\n        codigoJardinAgregar: '',\r\n        //Variables para editar un funcionario con v-model\r\n        codigoEditar: '',\r\n        codigoFuncionario: '',\r\n        nomFuncionario: '',\r\n        correo: '',\r\n        rut: '',\r\n        dependenciaEditar: '',\r\n        codigoJardin: '',\r\n        encargadoEditar: 1,\r\n        //Variables de las alertas\r\n        dismissSecs: 5,\r\n        dismissCountDown: 0,\r\n        mensaje: {color: '', texto: ''},\r\n        activo: true\r\n      }\r\n    },\r\n    validations:{\r\n      //Validaciones de los input\r\n      codigo:{required},\r\n      codigoFuncionarioAgregar:{required},\r\n      nomFuncionarioAgregar:{required, minLength: minLength(10)},\r\n      correoAgregar:{required, email},\r\n      rutAgregar:{required},\r\n      codigoFuncionario:{required},\r\n      nomFuncionario:{required, minLength: minLength(10)},\r\n      correo:{required, email},\r\n      rut:{required}\r\n    },\r\n    computed: {\r\n      ...mapState(['token', 'usuarioDB'])\r\n    },\r\n    created(){\r\n      //Iniciamos las funciones que se encargan de cargar los datos apenas se inicie la ruta\r\n      this.listarFuncionarios();\r\n      this.listarDependencias();\r\n      this.verificar();\r\n    },\r\n    methods: {\r\n      exportar(num) {\r\n        let data = [];\r\n        var filename = \"planilla\";\r\n        if(num === 1){\r\n          var arreglado = this.equiposAct.map( item => { \r\n            return { ID: item.codHistorial , CodigoEquipo : item.codEquipo, Tipo : item.tipoEquipo, Serie : item.serie, Modelo : item.modelo, Marca : item.nomMarca, Dependencia : item.nomJardin, Zona : item.zona}; \r\n          });\r\n          data = XLSX.utils.json_to_sheet(arreglado);\r\n          filename = 'Equipos del Usuario ' + this.codigoEditar\r\n        }else if(num === 2){\r\n          var arreglado = this.historial.map( item => { \r\n            return { ID: item.codHistorial , CodigoEquipo : item.codEquipo, Tipo : item.tipoEquipo, Serie : item.serie, Modelo : item.modelo, Marca : item.nomMarca, Dependencia : item.nomJardin, Desde : item.fechaInicio, Hasta : item.fecha, Zona : item.zona};\r\n          });\r\n          data = XLSX.utils.json_to_sheet(arreglado);\r\n          filename = 'Historial del Usuario' + this.codigoEditar\r\n        }else if(num === 3){\r\n          var arreglado = this.funcionarios.map( item => { \r\n            return { Codigo: item.codigo , Nombre : item.nombre, CodigoFuncionario : item.codFuncionario, Rut : item.rut,  Correo : item.correo}; \r\n          });\r\n          data = XLSX.utils.json_to_sheet(arreglado);\r\n          filename = 'Funcionarios'\r\n        }\r\n        const workbook = XLSX.utils.book_new();\r\n        XLSX.utils.book_append_sheet(workbook, data, filename);\r\n        XLSX.writeFile(workbook, `${filename}.xlsx`);\r\n      },\r\n\r\n      verificar(){\r\n        if(this.usuarioDB.data[0].tipoUsuario == 0){\r\n          this.activo = false;\r\n        }\r\n      },\r\n    //Función que obtiene los datos de los funcionarios y los enviar al arreglo que cargara la tabla\r\n      listarFuncionarios(){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.axios.get('api/funcionarios', config)\r\n          .then(res => {\r\n            this.funcionarios = res.data;\r\n          })\r\n          .catch(e => {\r\n            this.alerta('danger', 'No se han podido cargar a los funcionarios');\r\n          })\r\n      },\r\n      //Función que obtiene los datos de las dependencias\r\n      listarDependencias(){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.axios.get('api/dependenciasTabla', config)\r\n          .then(res => {\r\n            this.dependencias = res.data;\r\n            this.dependenciaAgregar = res.data[0].nomJardin\r\n            this.codigoJardinAgregar = res.data[0].codJardin\r\n          })\r\n          .catch(e => {\r\n            this.alerta('danger', 'No se han podido cargar a las dependencias');\r\n          })\r\n      },\r\n      //Muestra el historial de equipos del funcionario\r\n      listarHistorial(){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.axios.get(`api/Histfuncionario/${this.codigoEditar}`, config)\r\n          .then(res => {\r\n            this.historial = res.data;\r\n          })\r\n          .catch(e => {\r\n            this.alerta('danger', 'No se ha logrado obtener el historial deseado');\r\n          })\r\n      },\r\n      //Lista los datos de los equipos de los que un funcionario es dueño\r\n      listarActuales(){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.axios.get(`api/Actfuncionario/${this.codigoEditar}`, config)\r\n          .then(res => {\r\n            this.equiposAct = res.data;\r\n          })\r\n          .catch(e => {\r\n            this.alerta('danger', 'No se ha logrado obtener los equipos que ocupa el funcionario');\r\n          })\r\n      },\r\n      //Función que determina la vista de edición de funcionarios\r\n      Acteditar(codigo){\r\n        this.pestaña = 'editar'\r\n        this.codigoEditar = codigo;\r\n        $('#funcionarios').DataTable().destroy();\r\n        $('#historialfuncionarios').DataTable().destroy();\r\n        $(\"#actualesfuncionarios\").DataTable().destroy();\r\n        this.cargarFuncionario();\r\n      },\r\n      //Función que determina la vista del historial de un funcionario\r\n      ActHistorial(codigo){\r\n        $('#funcionarios').DataTable().destroy();\r\n        $('#historialfuncionarios').DataTable()\r\n        this.pestaña = 'historial'\r\n        this.codigoEditar = codigo;\r\n        this.listarHistorial();\r\n      },\r\n      //Función que determina la vista de los equipos actuales de un funcionario\r\n      EquiposActuales(codigo){\r\n        $('#funcionarios').DataTable().destroy();\r\n        $('#actualesfuncionarios').DataTable()\r\n        this.pestaña = 'actuales'\r\n        this.codigoEditar = codigo;\r\n        this.listarActuales();\r\n      },\r\n      //Función que determina la vista de agregar\r\n      agregar(){\r\n        $('#funcionarios').DataTable().destroy();\r\n        $('#historialfuncionarios').DataTable().destroy();\r\n        $(\"#actualesfuncionarios\").DataTable().destroy();\r\n        this.pestaña = 'agregar'\r\n      }, //Funciones de la vista agregar\r\n      agregarFuncionario(){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        const index = this.dependencias.findIndex(item => item.nomJardin == this.dependenciaAgregar);\r\n        var codJardinAct = this.dependencias[index].codJardin\r\n        this.$v.$touch()\r\n        if(!this.$v.codigo.$invalid && !this.$v.codigoFuncionarioAgregar.$invalid && !this.$v.nomFuncionarioAgregar.$invalid && !this.$v.correoAgregar.$invalid && !this.$v.rutAgregar.$invalid){\r\n          this.axios.post('api/agregaFuncionario', {codigo: this.codigo, nombre: this.nomFuncionarioAgregar, codFuncionario: this.codigoFuncionarioAgregar, correo: this.correoAgregar, rut: this.rutAgregar, codJardin: codJardinAct, encargado: this.encargadoAgregar}, config)\r\n            .then(res => {\r\n              if(res.data.sqlMessage){\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Oops...',\r\n                  text: 'No se ha podido crear al funcionario ' + this.nomFuncionarioAgregar,\r\n                  footer: 'Ya existe un funcionario con un dato repetido, revise la lista de funcionarios'\r\n                })\r\n              }else{\r\n              Swal.fire(\r\n                'Se ha creado un nuevo Funcionario, ' + this.nomFuncionarioAgregar + ' se agrego al sistema!',\r\n                'Seleccione Ok para continuar',\r\n                'success'\r\n              )}\r\n              //location.reload();\r\n            })\r\n            .catch(e => {\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Oops...',\r\n                text: 'No se ha podido crear al funcionario ' + this.nomFuncionarioAgregar,\r\n                footer: 'Posible error del sistema'\r\n              })\r\n          })\r\n        }else if(!this.$v.correoAgregar.$invalid){\r\n          this.alerta('danger', 'Porfavor ingrese todos los datos requeridos');\r\n        }else{\r\n          this.alerta('danger', 'Ingrese un correo valido');\r\n        }\r\n      },\r\n      //Se reinicia la ruta para regresar a la pantalla Principal\r\n      Volver(){\r\n        $(\"#historialfuncionarios\").DataTable().destroy();\r\n        $(\"#actualesfuncionarios\").DataTable().destroy();\r\n        this.pestaña = 'funcionarios'\r\n        this.listarFuncionarios();\r\n      }, \r\n      cambiaJardin(){\r\n        const index = this.dependencias.findIndex(item => item.nomJardin == this.dependenciaAgregar);\r\n        this.codigoJardinAgregar = this.dependencias[index].codJardin\r\n      },\r\n      cambiaJardinEditar(){\r\n        const index = this.dependencias.findIndex(item => item.nomJardin == this.dependenciaEditar);\r\n        this.codigoJardin = this.dependencias[index].codJardin\r\n      },\r\n      //Carga los datos de un funcionario que se va a editar\r\n      cargarFuncionario(){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.axios.get(`api/funcionario/${this.codigoEditar}`, config)\r\n          .then(res => {\r\n            this.codigoFuncionario = res.data[0].codFuncionario;\r\n            this.nomFuncionario = res.data[0].nombre;\r\n            this.correo = res.data[0].correo;\r\n            this.rut = res.data[0].rut;\r\n            this.encargadoEditar = res.data[0].encargado\r\n            const index = this.dependencias.findIndex(item => item.codJardin == res.data[0].codJardin);\r\n            this.dependenciaEditar = this.dependencias[index].nomJardin\r\n            this.codigoJardin = res.data[0].codJardin\r\n          })\r\n          .catch(e => {\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Oops...',\r\n              text: 'No se ha podido ingresar a los datos de este funcionario',\r\n              footer: 'Posible error del sistema'\r\n            })\r\n            this.pestaña = 'funcionario';\r\n          })\r\n      },\r\n      //Función que permite editar a un funcionario\r\n      editarFuncionario(){\r\n        let config = {\r\n          headers: {\r\n            token: this.token\r\n          }\r\n        }\r\n        this.$v.$touch()\r\n        if(!this.$v.codigoFuncionario.$invalid && !this.$v.nomFuncionario.$invalid && !this.$v.correo.$invalid && !this.$v.rut.$invalid){\r\n          const index = this.dependencias.findIndex(item => item.nomJardin == this.dependenciaEditar);\r\n          var codJardinAct = this.dependencias[index].codJardin\r\n          this.axios.put(`api/actualizaFuncionario/${this.codigoEditar}`, {codigo: this.codigo, nombre: this.nomFuncionario, codFuncionario: this.codigoFuncionario, correo: this.correo, rut: this.rut, codJardin: codJardinAct, encargado: this.encargadoEditar}, config)\r\n            .then(res => {\r\n              if(res.data.sqlMessage){\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Oops...',\r\n                  text: 'No se ha podido actualizar al funcionario ' + this.nomFuncionario,\r\n                  footer: 'Ya existe un funcionario con este codigo o correo o rut, revise la lista de funcionarios'\r\n                })\r\n              }else{\r\n              Swal.fire(\r\n                'Se registraron los cambios del Funcionario, ' + this.nomFuncionario + ' actualización Realizada!',\r\n                'Seleccione Ok para continuar',\r\n                'success'\r\n              )}\r\n              //location.reload();\r\n            })\r\n            .catch(e => {\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Oops...',\r\n                text: 'No se ha podido actualizar al funcionario ' + this.nomFuncionario,\r\n                footer: 'Posible error del sistema'\r\n              })\r\n            })\r\n        }else if(!this.$v.correo.$invalid){\r\n          this.alerta('danger', 'Porfavor ingrese todos los datos requeridos');\r\n        }else{\r\n          this.alerta('danger', 'Ingrese un correo valido');\r\n        }\r\n      },\r\n      convertDateMysql(yourDate){\r\n        yourDate.toISOString().split('T')[0]\r\n        const offset = yourDate.getTimezoneOffset()\r\n        yourDate = new Date(yourDate.getTime() - (offset*60*1000))\r\n        return yourDate.toISOString().split('T')[0]\r\n\t\t  },\r\n      //Funcion que quita un equipo a un funcionario\r\n      quitar(id, estado){\r\n        var dt = this.convertDateMysql(new Date())\r\n        swal.fire({\r\n            title: '¿Seguro que desea quitar el equipo?',\r\n            type: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            cancelButtonText: 'Cancelar',\r\n            confirmButtonText: '¡Si!'\r\n        }).then((result) => {\r\n          if (result.value) {\r\n            let config = {\r\n              headers: {\r\n                token: this.token\r\n              }\r\n            }\r\n            this.axios.put(`api/actualizaHistorial/${id}`, {fecha: dt}, config)\r\n              .then(res => {\r\n                const index = this.equiposAct.findIndex(item => item.codHistorial == res.data);\r\n                console.log(index);\r\n                this.equiposAct.splice(index, 1)\r\n                Swal.fire(\r\n                  'Se ha quitado un equipo al funcionario!',\r\n                  'Seleccione Ok para continuar',\r\n                  'success'\r\n                )\r\n              })\r\n              .catch(e => {\r\n                var mensaje = 'Posible error del sistema';\r\n                if(e.response.data.mensaje){\r\n                  mensaje = e.response.data.mensaje;\r\n                }\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Oops...',\r\n                  text: 'No se ha podido quitar el equipo a su funcionario',\r\n                  footer: mensaje\r\n                })\r\n              })\r\n            }\r\n          })\r\n      },\r\n      //Funciones de la alerta\r\n      countDownChanged(dismissCountDown) {\r\n        this.dismissCountDown = dismissCountDown\r\n      },\r\n      showAlert() {\r\n        this.dismissCountDown = this.dismissSecs\r\n      },\r\n      alerta(color, texto){\r\n        this.mensaje.color = color;\r\n        this.mensaje.texto = texto;\r\n        this.showAlert();\r\n      },\r\n    },\r\n    //Se cargan las tablas como Datatables del Jquery\r\n    mounted(){\r\n      $('#funcionarios').DataTable();\r\n      $('#historialfuncionarios').DataTable();\r\n      $(\"#actualesfuncionarios\").DataTable()\r\n    },\r\n    watch: {\r\n      funcionarios(val) {\r\n        if(this.pestaña === 'funcionarios'){\r\n          $('#funcionarios').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#funcionarios').DataTable()\r\n          });\r\n        }\r\n      },\r\n      historial(val) {\r\n        if(this.pestaña === 'historial'){\r\n          $('#historialfuncionarios').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#historialfuncionarios').DataTable()\r\n          });\r\n        }\r\n      },\r\n      equiposAct(val) {\r\n        if(this.pestaña === 'actuales'){\r\n          $('#actualesfuncionarios').DataTable().destroy();\r\n          this.$nextTick(()=> {\r\n            $('#actualesfuncionarios').DataTable()\r\n          });\r\n        }\r\n      },\r\n    }\r\n};\r\n\r\n\r\n</script>\r\n\r\n<style>\r\n  .menu{\r\n    padding: 30px;\r\n  }\r\n\r\n  body{\r\n    background-color: #eee;\r\n  }\r\n\r\n  .boton{\r\n    margin: 20px;\r\n    width: 90%;\r\n    border-radius: 12px;\r\n    border-color: black;\r\n  }\r\n</style>"]}]}